{"version":3,"sources":["o0CCButton.js"],"names":["o0","require","o0CC","o0Game","cc","Class","extends","Sprite","properties","button","sprite","label","o0ClickEvent","o0OnClick","i","length","onLoad","self","loader","loadRes","SpriteFrame","err","spriteFrame","trim","type","Type","SLICED","sizeMode","SizeMode","CUSTOM","SrcBlendFactor","macro","BlendFactor","SRC_ALPHA","DstBlendFactor","ONE_MINUS_SRC_ALPHA","node","addComponent","target","interactable","duration","transition","Button","Transition","COLOR","normalColor","Color","pressedColor","hoverColor","disabledColor","o0OnClickHandler","Component","EventHandler","component","handler","emit","clickEvents","push","addScriptNode","horizontalAlign","Label","HorizontalAlign","CENTER","verticalAlign","VerticalAlign","overflow","Overflow","SHRINK","color","enableWrapText","update","dt","anchorX","anchorY","x","y","width","height","fontSize","string","name"],"mappings":"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","file":"o0CCButton.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\Script\\o0Lib","sourcesContent":["var o0 = require('o0');\r\nvar o0CC = require('o0CC');\r\nvar o0Game = require('o0Game');\r\n\r\ncc.Class({\r\n    extends: cc.Sprite,    \r\n    properties: {\r\n        //background:null,\r\n        button:null,\r\n        sprite:null,\r\n        label:null,\r\n        o0ClickEvent:[],\r\n    }, \r\n\r\n    o0OnClick:function(){\r\n        for(var i=0;i<this.o0ClickEvent.length;++i){\r\n            this.o0ClickEvent[i]();\r\n        }\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {    \r\n        this.sprite = this;     \r\n        var self = this;\r\n        cc.loader.loadRes('button', cc.SpriteFrame, function (err, spriteFrame) {\r\n            self.sprite.spriteFrame = spriteFrame;\r\n        });/** */\r\n        this.sprite.trim = true;\r\n        this.sprite.type = cc.Sprite.Type.SLICED;\r\n        this.sprite.sizeMode = cc.Sprite.SizeMode.CUSTOM;\r\n        this.sprite.SrcBlendFactor = cc.macro.BlendFactor.SRC_ALPHA;\r\n        this.sprite.DstBlendFactor = cc.macro.BlendFactor.ONE_MINUS_SRC_ALPHA;//精灵必须在button之前\r\n\r\n\r\n        this.button = this.node.addComponent('cc.Button'); \r\n        //this.button = this;\r\n        this.button.target = this.node;\r\n        this.button.interactable = true;\r\n        this.button.duration = 0.1;\r\n        this.button.transition = cc.Button.Transition.COLOR;\r\n        this.button.normalColor = new cc.Color(200,200,200,255);\r\n        this.button.pressedColor = new cc.Color(100,100,100,255);\r\n        this.button.hoverColor = new cc.Color(150,150,150,255);\r\n        this.button.disabledColor = new cc.Color(50,50,50,255);/** */\r\n\r\n        var o0OnClickHandler = new cc.Component.EventHandler();\r\n        o0OnClickHandler.target = this.node;\r\n        o0OnClickHandler.component = \"o0CCButton\";\r\n        o0OnClickHandler.handler = \"o0OnClick\";\r\n        o0OnClickHandler.emit([]);\r\n        this.button.clickEvents.push(o0OnClickHandler);\r\n\r\n        this.label = o0CC.addScriptNode(this.node,'cc.Label',0);\r\n        this.label.horizontalAlign = cc.Label.HorizontalAlign.CENTER;\r\n        this.label.verticalAlign = cc.Label.VerticalAlign.CENTER;\r\n        //this.label.fontSize = 16;\r\n        //this.label.lineHeight = 20;\r\n        this.label.overflow = cc.Label.Overflow.SHRINK;\r\n        this.label.node.color = new cc.Color(0,0,0);\r\n        this.label.enableWrapText = false;/** */\r\n    },    \r\n    // called every frame\r\n    update: function (dt) {\r\n\r\n        this.label.node.anchorX = this.node.anchorX;\r\n        this.label.node.anchorY = this.node.anchorY;\r\n        this.label.node.x = 0;\r\n        this.label.node.y = 0;\r\n        this.label.node.width = this.node.width-5;\r\n        this.label.node.height = this.node.height;\r\n        this.label.fontSize = this.node.height - 15;\r\n        this.label.string = this.name;/** */\r\n    }\r\n})"]}