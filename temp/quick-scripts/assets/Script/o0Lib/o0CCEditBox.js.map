{"version":3,"sources":["o0CCEditBox.js"],"names":["o0","require","o0CC","o0Game","cc","Class","extends","EditBox","properties","label","o0EditingDidBegan","node","active","string","o0TextChanged","o0EditingDidEnded","onLoad","self","loader","loadRes","SpriteFrame","err","spriteFrame","backgroundImage","fontColor","color","addScriptNode","overflow","Label","Overflow","SHRINK","Color","enableWrapText","o0EditingDidBeganHandler","Component","EventHandler","target","component","handler","emit","editingDidBegan","push","o0TextChangedHandler","textChanged","o0editingDidEndedHandler","editingDidEnded","update","dt","anchorX","anchorY","x","y","width","height","fontSize"],"mappings":"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","file":"o0CCEditBox.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\Script\\o0Lib","sourcesContent":["var o0 = require('o0');\r\nvar o0CC = require('o0CC');\r\nvar o0Game = require('o0Game');\r\n\r\ncc.Class({\r\n    extends: cc.EditBox,\r\n\r\n    properties: {\r\n        //background:null,\r\n        label:null,\r\n    },\r\n\r\n    o0EditingDidBegan:function(){\r\n        this.label.node.active = true;\r\n        this.label.string = this.string;\r\n    },\r\n    o0TextChanged:function(){\r\n        this.label.string = this.string;\r\n    },\r\n    o0EditingDidEnded:function(){\r\n        this.label.node.active = false;\r\n    },/** */\r\n\r\n    // use this for initialization\r\n    onLoad: function () {    \r\n        var self = this;\r\n\r\n        cc.loader.loadRes('editbox', cc.SpriteFrame, function (err, spriteFrame) {\r\n            self.backgroundImage = spriteFrame;\r\n        });/** */\r\n\r\n        //this.background = o0CC.addScriptNode(this.node,'cc.Graphics',0);\r\n        \r\n        //this.fontColor = cc.c4b(255,255,255,255)\r\n        this.fontColor = new cc.color(255,255,255);\r\n\r\n        this.label = o0CC.addScriptNode(this.node,'cc.Label',2);\r\n        /*this.label.node.anchorX = 0;\r\n        this.label.node.anchorY = 0;/** */\r\n        //this.label.horizontalAlign = cc.Label.HorizontalAlign.CENTER;\r\n        //this.label.verticalAlign = cc.Label.VerticalAlign.CENTER;\r\n        //this.label.fontSize = 16;\r\n        //this.label.lineHeight = 20;\r\n        this.label.overflow = cc.Label.Overflow.SHRINK;\r\n        this.label.color = new cc.Color(155,155,155);\r\n        this.label.node.color = new cc.Color(155,155,155);\r\n        this.label.enableWrapText = false;\r\n        this.label.node.active = false;\r\n\r\n\r\n        var o0EditingDidBeganHandler = new cc.Component.EventHandler();\r\n        o0EditingDidBeganHandler.target = this.node;\r\n        o0EditingDidBeganHandler.component = \"o0CCEditBox\";\r\n        o0EditingDidBeganHandler.handler = \"o0EditingDidBegan\";\r\n        o0EditingDidBeganHandler.emit([]);\r\n        this.editingDidBegan.push(o0EditingDidBeganHandler);\r\n        \r\n        var o0TextChangedHandler = new cc.Component.EventHandler();\r\n        o0TextChangedHandler.target = this.node;\r\n        o0TextChangedHandler.component = \"o0CCEditBox\";\r\n        o0TextChangedHandler.handler = \"o0TextChanged\";\r\n        o0TextChangedHandler.emit([]);\r\n        this.textChanged.push(o0TextChangedHandler);\r\n        \r\n        var o0editingDidEndedHandler = new cc.Component.EventHandler();\r\n        o0editingDidEndedHandler.target = this.node;\r\n        o0editingDidEndedHandler.component = \"o0CCEditBox\";\r\n        o0editingDidEndedHandler.handler = \"o0EditingDidEnded\";\r\n        o0editingDidEndedHandler.emit([]);\r\n        this.editingDidEnded.push(o0editingDidEndedHandler);/** */\r\n\r\n        //this.background.enabled = false;\r\n    },    \r\n    // called every frame\r\n    update: function (dt) {\r\n        /*\r\n        this.background.clear();\r\n        this.background.roundRect(this.node.width*(-this.node.anchorX),this.node.height*(-this.node.anchorY), this.node.width, this.node.height,3);\r\n        this.background.fillColor = new cc.Color(50,50,50,250);\r\n        this.background.fill();\r\n        this.background.roundRect(this.node.width*(-this.node.anchorX), this.node.height*(-this.node.anchorY), this.node.width, this.node.height,3);\r\n        this.background.strokeColor = new cc.Color(255,255,255,155);\r\n        this.background.stroke();/** */\r\n\r\n        this.label.node.anchorX = this.node.anchorX;\r\n        this.label.node.anchorY = this.node.anchorY;\r\n        this.label.node.x = 0;\r\n        this.label.node.y = 0;\r\n        this.label.node.width = this.node.width - 5;\r\n        this.label.node.height = this.node.height;\r\n        this.label.fontSize = this.node.height - 15;\r\n    }\r\n})"]}