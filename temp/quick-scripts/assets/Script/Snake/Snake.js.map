{"version":3,"sources":["Snake.js"],"names":["o0","require","o0CC","o0Game","cc","Class","extends","CircleCollider","properties","gameScene","head","body","Node","size","score","color","bodyLength","get","Math","pow","scaleX","scaleY","skin","nameLabel","setScore","updateScale","targetBodyLength","ceil","length","addBody","removeBody","newScale","i","addEyeGraphic","node","graphics","addComponent","Graphics","clear","circle","fillColor","Color","WHITE","fill","BLACK","addGraphic","radius","YELLOW","RED","addGraphic2","GRAY","addHead","push","parent","rotation","random","eyeNode","zIndex","Graphic","addScriptNode","horizontalAlign","Label","HorizontalAlign","CENTER","verticalAlign","VerticalAlign","TOP","anchorX","anchorY","x","y","height","fontSize","setGroup","GroupIndex","Head","active","addChild","collider","sprite","trim","type","Sprite","Type","SLICED","sizeMode","SizeMode","CUSTOM","SrcBlendFactor","macro","BlendFactor","SRC_ALPHA","DstBlendFactor","ONE_MINUS_SRC_ALPHA","width","loader","loadRes","SpriteFrame","err","spriteFrame","Body","destroy","pop","removeAllBody","onLoad","randomBrightColor","start","lateUpdate","string","name","_onPreDestroy"],"mappings":"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","file":"Snake.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\Script\\Snake","sourcesContent":["var o0 = require('o0');\r\nvar o0CC = require('o0CC');\r\nvar o0Game = require('o0Game');\r\n\r\n\r\ncc.Class({\r\n    extends: cc.CircleCollider,\r\n\r\n    properties: {\r\n        //bodyParentNode: null,\r\n        gameScene: null,\r\n        head:null,\r\n        body:[cc.Node],\r\n        size:40,//大小，直径\r\n        //bodySize: this.radius 子类CircleCollider的变量\r\n        score: 0,\r\n        color:null,\r\n        bodyLength: {\r\n            get: function (){\r\n                return this.score / Math.pow(this.body[0].scaleX * this.body[0].scaleY,1.5);\r\n            }\r\n        },\r\n        skin:null,\r\n        nameLabel:null,\r\n    },\r\n\r\n    setScore:function(score){\r\n        this.score = score;\r\n        this.updateScale();\r\n        var targetBodyLength = Math.ceil(this.bodyLength);\r\n        while(targetBodyLength > this.body.length){\r\n            this.addBody();\r\n        }\r\n        while(targetBodyLength < this.body.length && this.body.length > 1){\r\n            this.removeBody();\r\n        }\r\n    },\r\n    updateScale:function(){\r\n        var newScale = Math.pow(1+(this.score - 10)/50,1.0/3);\r\n        for(var i=0;i<this.body.length;++i){\r\n            this.body[i].scaleX = newScale;\r\n            this.body[i].scaleY = newScale;\r\n        }\r\n    },\r\n    addEyeGraphic:function(node){\r\n        var graphics = node.addComponent(cc.Graphics,10);\r\n        graphics.clear();\r\n        graphics.circle(12, 10, 10);\r\n        graphics.circle(12, -10, -10);\r\n        graphics.fillColor = cc.Color.WHITE;\r\n        graphics.fill();\r\n        graphics.circle(13, 9, 6);\r\n        graphics.circle(13, -9, 6);\r\n        graphics.fillColor = cc.Color.BLACK;\r\n        graphics.fill();\r\n        return graphics;\r\n    },\r\n    addGraphic:function(node){\r\n        var graphics = node.addComponent(cc.Graphics);\r\n        graphics.clear();\r\n        graphics.circle(0, 0, this.radius);\r\n        graphics.fillColor = cc.Color.YELLOW;\r\n        graphics.fill();\r\n        graphics.circle(15, 0, 5);\r\n        graphics.fillColor = cc.Color.RED;\r\n        graphics.fill();\r\n        return graphics;\r\n    },\r\n    addGraphic2:function(node){\r\n        var graphics = node.addComponent(cc.Graphics);\r\n        graphics.clear();\r\n        graphics.circle(0, 0, this.radius);\r\n        graphics.fillColor = cc.Color.YELLOW;\r\n        graphics.fill();\r\n        graphics.circle(-15, 0, 5);\r\n        graphics.fillColor = cc.Color.GRAY;\r\n        graphics.fill();\r\n    },    \r\n    addHead:function(){\r\n        this.head = new cc.Node('head');\r\n        this.body.push(this.head);\r\n        this.head.parent = this.node;\r\n        this.head.rotation = Math.random() * 360;\r\n        //Graphic.\r\n        var eyeNode = new cc.Node();\r\n        eyeNode.parent = this.head;\r\n        eyeNode.zIndex = 3;\r\n        var Graphic = this.addEyeGraphic(eyeNode);\r\n\r\n        this.nameLabel = o0CC.addScriptNode(this.head,'cc.Label',20);\r\n        this.nameLabel.horizontalAlign = cc.Label.HorizontalAlign.CENTER;\r\n        this.nameLabel.verticalAlign = cc.Label.VerticalAlign.TOP;\r\n        this.nameLabel.node.color = new cc.Color(255,255,255);\r\n        this.nameLabel.node.anchorX = 0;\r\n        this.nameLabel.node.anchorY = 0;\r\n        this.nameLabel.node.x = 0;\r\n        this.nameLabel.node.y = 0;\r\n        this.nameLabel.node.height = 300;\r\n        this.nameLabel.fontSize = 20;\r\n        this.nameLabel.node.anchorX = 0.5;\r\n        this.nameLabel.node.anchorY = 0.5;\r\n        \r\n        var graphics = this.head.addComponent('cc.Graphics');\r\n        o0CC.setGroup(graphics,o0Game.GroupIndex.Head);\r\n    },\r\n    addBody:function(){\r\n        if(this.node.active == false)\r\n            return;\r\n        var i = this.body.length;\r\n        this.body.push(new cc.Node('body'+i));\r\n        this.node.addChild(this.body[i],-i);\r\n        this.body[i].x = this.body[i-1].x;\r\n        this.body[i].y = this.body[i-1].y;\r\n        this.body[i].rotation = this.body[i-1].rotation;\r\n\r\n        var collider = this.body[i].addComponent('cc.CircleCollider');\r\n        //collider.tag = o0Game.CollisionTag.Body;\r\n        collider.radius = this.radius;\r\n\r\n        var sprite = o0CC.addScriptNode(this.body[this.body.length-1],'cc.Sprite',2);\r\n        //var sprite = this.body[this.body.length-1].addComponent(cc.Sprite,0);\r\n        sprite.trim = true;\r\n        sprite.type = cc.Sprite.Type.SLICED;\r\n        sprite.sizeMode = cc.Sprite.SizeMode.CUSTOM;\r\n        sprite.SrcBlendFactor = cc.macro.BlendFactor.SRC_ALPHA;\r\n        sprite.DstBlendFactor = cc.macro.BlendFactor.ONE_MINUS_SRC_ALPHA;\r\n        sprite.node.width = this.size;\r\n        sprite.node.height = this.size;\r\n        cc.loader.loadRes('snake/'+this.skin[(this.body.length-1)%this.skin.length], cc.SpriteFrame, function (err, spriteFrame) {\r\n            sprite.spriteFrame = spriteFrame;\r\n        });\r\n        \r\n        var graphics = this.body[i].addComponent('cc.Graphics');\r\n        o0CC.setGroup(graphics,o0Game.GroupIndex.Body);\r\n    },\r\n    removeBody:function(){\r\n        if(this.body.length == 1)\r\n            return;\r\n        //this.body[this.body.length-1].getComponent('cc.CircleCollider').destroy();\r\n        this.body[this.body.length-1].destroy();\r\n        this.body.pop();\r\n    },\r\n    removeAllBody:function(){\r\n        for(;this.body.length>1;){\r\n            this.removeBody();\r\n        }\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        this.radius = 20;//圆碰撞体的局部变量\r\n        this.color = o0CC.randomBrightColor();\r\n        this.addHead();\r\n\t\t//cc.log('snake log');\r\n    },\r\n    start: function () {\r\n\r\n        var sprite = o0CC.addScriptNode(this.head,cc.Sprite,1);\r\n        //var sprite = this.head.addComponent(cc.Sprite,0);\r\n        sprite.trim = true;\r\n        sprite.type = cc.Sprite.Type.SLICED;\r\n        sprite.sizeMode = cc.Sprite.SizeMode.CUSTOM;\r\n        sprite.SrcBlendFactor = cc.macro.BlendFactor.SRC_ALPHA;\r\n        sprite.DstBlendFactor = cc.macro.BlendFactor.ONE_MINUS_SRC_ALPHA;        \r\n        sprite.node.width = this.size;\r\n        sprite.node.height = this.size;\r\n\r\n        //var sprite = this.body[0].getComponent(cc.Sprite);\r\n        cc.loader.loadRes('snake/'+this.skin[0], cc.SpriteFrame, function (err, spriteFrame) {\r\n            sprite.spriteFrame = spriteFrame;\r\n        });\r\n    },\r\n\r\n    lateUpdate:function(){\r\n        if(this.nameLabel!=null){ \r\n            if(this.nameLabel.string==null||this.nameLabel.string==''){\r\n                this.nameLabel.string = this.name+'\\n\\n';/** */\r\n            }\r\n            this.nameLabel.node.rotation = -this.head.rotation;\r\n        }\r\n    },\r\n/*\r\n    // called every frame\r\n    update: function (dt) {\r\n    },\r\n    onCollisionEnter:function(other,self){\r\n    },\r\n    onCollisionExit:function(other,self){\r\n    },/** */\r\n    _onPreDestroy:function(){\r\n        //cc.log('dsada');\r\n        /*\r\n        while(this.body.length > 1){\r\n            this.removeBody();\r\n        }/** */\r\n    },/*\r\n    test:function(){\r\n        cc.log('snake');\r\n    },/** */\r\n});\r\n//module.exports = Snake;"]}