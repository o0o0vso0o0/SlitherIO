{"version":3,"sources":["Menu.js"],"names":["o0","require","o0CC","o0Game","cc","Class","extends","Component","properties","canvas","default","type","Canvas","camera","Camera","UICamera","gameScene","menuNode","nameBox","singlePlayerButton","connectAddressBox","multiplayerButton","backgroundGraphic","skinNode","skinDict","skinSnake","skinLabel","skinClearButton","inputArray","inputDict","currentInputIndex","leftInputButton","rightInputButton","inputLabel","addSkin","name","x","y","self","skinButton","addScriptNode","setGroup","GroupIndex","UI","node","width","height","label","enabled","o0ClickEvent","push","loader","loadRes","SpriteFrame","err","spriteFrame","sprite","onLoad","director","getPhysicsManager","Node","addChild","maxLength","string","Math","floor","random","placeholder","skin","playerName","playerSkin","playerInput","skinSet","Object","keys","remoteUIAddress","parent","clearSkin","control","head","addComponent","targetPosition","Vector2","setTargetVector","mod","schedule","vectorFromRotation","length","Graphics","update","dt","active","clear","lineWidth","time","Date","getTime","i","parseInt","moveTo","lineTo","color","abs","cos","tan","strokeColor","Color","stroke","sin"],"mappings":"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","file":"Menu.js","sourceRoot":"..\\..\\..\\..\\assets\\Script","sourcesContent":["\nvar o0 = require('o0');\nvar o0CC = require('o0CC');\nvar o0Game = require('o0Game');\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        canvas: {\n            default: null,\n            type: cc.Canvas\n        },\n        camera: {\n            default: null,\n            type: cc.Camera\n        },\n        UICamera: {\n            default: null,\n            type: cc.Camera\n        },\n        gameScene:null,\n\n        menuNode:null,\n        nameBox:null,\n        singlePlayerButton:null,\n        connectAddressBox:null,\n        multiplayerButton:null,\n\n        backgroundGraphic:null,\n\n        skinNode:null,\n        skinDict:[],\n        skinSnake:null,\n        skinLabel:null,\n        skinClearButton:null,\n\n        inputArray:[],\n        inputDict:[],\n        currentInputIndex:0,\n        leftInputButton:null,\n        rightInputButton:null,\n        inputLabel:null,\n    },\n\n    addSkin:function(name,x,y){\n        var self = this;\n\n        var skinButton = o0CC.addScriptNode(this.skinNode,'o0CCButtonNoImage',10);\n        o0CC.setGroup(this.multiplayerButton,o0Game.GroupIndex.UI);\n        skinButton.node.x = x;\n        skinButton.node.y = y;\n        skinButton.node.width = 42;\n        skinButton.node.height = 42;/** */\n        skinButton.label.enabled = false;\n        skinButton.o0ClickEvent.push(function () {\n            //cc.log(name);\n            self.skinSnake.addSkin(name);\n        });\n\n        cc.loader.loadRes('snake/'+name, cc.SpriteFrame, function (err, spriteFrame) {\n            self.skinDict[name] = spriteFrame;\n            skinButton.sprite.spriteFrame = spriteFrame;\n        });/** */        \n    },\n\n    // use this for initialization\n    onLoad: function () {\n        //cc.director.setAnimationInterval(1.0/30);\n        //cc.game.setFrameRate(30);//模拟器不能正常显示\n\n        var self = this;\n        cc.director.getPhysicsManager().enabled = true;\n\n        //this.cocos.node.x;\n        //node.parent = this.canvas.node;\n        //this.label.node.parent = node;\n        //this.label.node.x = 0;\n        //this.label.node.y = 0;\n        //this.label.string = this.text;\n\n        //var Snake = require(\"Snake\");\n        //cc.log(\"oooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooo \"+Snake);\n\n        /*var snake = new cc.Node('snake');\n        snake.parent = this.camera.node;\n        snake.addComponent('Snake');/** */\n\n        //newSnake(this.camera.node);\n\n        this.menuNode = new cc.Node();\n        this.node.addChild(this.menuNode,1);\n        \n        this.nameBox = o0CC.addScriptNode(this.menuNode,'o0CCEditBox',10);\n        o0CC.setGroup(this.nameBox,o0Game.GroupIndex.UI);\n        this.nameBox.node.x = -240;\n        this.nameBox.node.y = 100;\n        this.nameBox.node.width = 200;\n        this.nameBox.node.height = 40;\n        this.nameBox.maxLength = 20;\n        this.nameBox.string = 'Player-'+Math.floor(Math.random()*1000);\n        this.nameBox.placeholder = 'snake name'\n        \n        this.singlePlayerButton = o0CC.addScriptNode(this.menuNode,'o0CCButton',10);\n        o0CC.setGroup(this.singlePlayerButton,o0Game.GroupIndex.UI);\n        this.singlePlayerButton.node.x = -240;\n        this.singlePlayerButton.node.y = 20;\n        this.singlePlayerButton.node.width = 200;\n        this.singlePlayerButton.node.height = 40;/** */\n        this.singlePlayerButton.name = 'Play';\n        this.singlePlayerButton.o0ClickEvent.push(function () {\n            if(self.skinSnake.skin == null){\n                return\n            }\n            self.gameScene = o0CC.addScriptNode(self.node,'LocalGameScene',0);\n            self.gameScene.playerName = self.nameBox.string;\n            self.gameScene.playerSkin = self.skinSnake.skin;\n            self.gameScene.playerInput = self.inputArray[self.currentInputIndex];\n            self.gameScene.skinSet = Object.keys(self.skinDict);\n            self.gameScene.canvas = self.canvas;\n            self.gameScene.camera = self.camera;\n        });\n\n\n          /*\n        this.singlePlayerButton.node.on(cc.Node.EventType.MOUSE_UP, function (event) {\n            self.gameScene = o0CC.addScriptNode(self.node,'LocalGameScene',0);\n            self.gameScene.playerName = self.nameBox.string;\n            self.gameScene.canvas = self.canvas;\n            self.gameScene.camera = self.camera;\n          }, this.singlePlayerButton);/** */\n        \n\n        this.connectAddressBox = o0CC.addScriptNode(this.menuNode,'o0CCEditBox',10);\n        o0CC.setGroup(this.connectAddressBox,o0Game.GroupIndex.UI);\n        this.connectAddressBox.node.x = -240;\n        this.connectAddressBox.node.y = -60;\n        this.connectAddressBox.node.width = 200;\n        this.connectAddressBox.node.height = 40;\n        this.connectAddressBox.maxLength = 21;\n        this.connectAddressBox.string = 'localhost:6666';\n        this.connectAddressBox.placeholder = 'address'\n\n        this.multiplayerButton = o0CC.addScriptNode(this.menuNode,'o0CCButton',10);\n        o0CC.setGroup(this.multiplayerButton,o0Game.GroupIndex.UI);\n        this.multiplayerButton.node.x = -240;\n        this.multiplayerButton.node.y = -100;\n        this.multiplayerButton.node.width = 200;\n        this.multiplayerButton.node.height = 40;/** */\n        this.multiplayerButton.name = 'Join';\n        this.multiplayerButton.o0ClickEvent.push(function () {\n            if(self.skinSnake.skin == null){\n                return\n            }\n            self.gameScene = o0CC.addScriptNode(self.node,'RemoteGameScene',0);\n            self.gameScene.playerName = self.nameBox.string;\n            self.gameScene.playerSkin = self.skinSnake.skin;\n            self.gameScene.playerInput = self.inputArray[self.currentInputIndex];\n            self.gameScene.skinSet = Object.keys(self.skinDict);\n            self.gameScene.canvas = self.canvas;\n            self.gameScene.camera = self.camera;\n            self.gameScene.remoteUIAddress.string = self.connectAddressBox.string;\n        });\n        \n        this.skinNode= new cc.Node(); \n        this.skinNode.parent = this.menuNode;\n        this.skinNode.x = -50;\n        this.skinNode.y = 150;\n\n        this.addSkin(\"blue\",0,0);\n        this.addSkin(\"blueYellow\",60,0);\n        this.addSkin(\"green\",120,0);\n        this.addSkin(\"greenLightBlue\",180,0);\n        this.addSkin(\"lightBlue\",240,0);\n        this.addSkin(\"orangeYellow\",300,0);\n        this.addSkin(\"pink\",360,0);\n        this.addSkin(\"pinkBlue\",30,50);\n        this.addSkin(\"rainbow\",90,50);\n        this.addSkin(\"red\",150,50);\n        this.addSkin(\"redGreen\",210,50);\n        this.addSkin(\"redGreen2\",270,50);\n        this.addSkin(\"redGreen3\",330,50);\n        this.addSkin(\"yellow\",390,50);\n        \n        //o0CCLabel\n        \n        this.skinLabel = o0CC.addScriptNode(this.skinNode,'o0CCLabel',10);\n        o0CC.setGroup(this.skinLabel,o0Game.GroupIndex.UI);\n        this.skinLabel.node.x = 80;\n        this.skinLabel.node.y = 100;\n        this.skinLabel.node.width = 200;\n        this.skinLabel.node.height = 40;\n        this.skinLabel.string = 'Choose Your Skin:';/** */\n        \n        this.skinClearButton = o0CC.addScriptNode(this.skinNode,'o0CCButton',10);\n        o0CC.setGroup(this.skinClearButton,o0Game.GroupIndex.UI);\n        this.skinClearButton.node.x = 350;\n        this.skinClearButton.node.y = 100;\n        this.skinClearButton.node.width = 100;\n        this.skinClearButton.node.height = 40;/** */\n        this.skinClearButton.name = 'Reset';\n        this.skinClearButton.o0ClickEvent.push(function () {\n            self.skinSnake.clearSkin();\n        });\n\n        this.skinSnake = o0CC.addScriptNode(this.skinNode,'SkinSampleSnake',1);\n        this.skinSnake.addSkin('lightBlue');\n        this.skinSnake.addSkin('orangeYellow');\n        this.skinSnake.addSkin('lightBlue');\n        this.skinSnake.addSkin('orangeYellow');\n        this.skinSnake.addSkin('lightBlue');\n        this.skinSnake.addSkin('orangeYellow');\n        this.skinSnake.addSkin('lightBlue');\n        this.skinSnake.addSkin('orangeYellow');\n        var control = this.skinSnake.head.addComponent(\"SkinSampleControl\");\n        control.targetPosition = new o0.Vector2(200,-200);\n        control.setTargetVector(new o0.Vector2(1,1).mod);\n        //cc.log(control.targetVector.x+' '+control.targetVector.y);\n\n        this.schedule(() => {\n            control.setTargetVector(o0CC.vectorFromRotation(Math.random() * 360));         \n        }, 3);\n\n\n        this.inputArray.push(\"SnakeJoystickInput\");\n        this.inputDict[\"SnakeJoystickInput\"] = 'Joystick';\n        this.inputArray.push(\"SnakeTouchInput\");\n        this.inputDict[\"SnakeTouchInput\"] = 'Touch';\n        this.inputArray.push(\"SnakeMouseInput\");\n        this.inputDict[\"SnakeMouseInput\"] = 'Mouse';\n        this.inputArray.push(\"SnakeAccelerometerInput\");\n        this.inputDict[\"SnakeAccelerometerInput\"] = 'Accelerometer';\n        this.inputArray.push(\"SnakeKeyboardArrowkeyInput\");\n        this.inputDict[\"SnakeKeyboardArrowkeyInput\"] = 'Keyboard Arrow keys';\n        this.inputArray.push(\"SnakeKeyboardSteeringInput\");\n        this.inputDict[\"SnakeKeyboardSteeringInput\"] = 'Keyboard Steering';\n        \n\n        this.leftInputButton = o0CC.addScriptNode(this.menuNode,'o0CCButton',10);\n        o0CC.setGroup(this.leftInputButton,o0Game.GroupIndex.UI);\n        this.leftInputButton.node.x = -150;\n        this.leftInputButton.node.y = -this.canvas.node.height/2+40;\n        this.leftInputButton.node.width = 40;\n        this.leftInputButton.node.height = 40;/** */\n        this.leftInputButton.name = '<';\n        this.leftInputButton.o0ClickEvent.push(function () {\n            self.currentInputIndex -= 1;\n            if(self.currentInputIndex < 0){\n                self.currentInputIndex += self.inputArray.length;\n            }\n            self.inputLabel.string = \"Control: \"+self.inputDict[self.inputArray[self.currentInputIndex]];\n        });\n\n        this.rightInputButton = o0CC.addScriptNode(this.menuNode,'o0CCButton',10);\n        o0CC.setGroup(this.rightInputButton,o0Game.GroupIndex.UI);\n        this.rightInputButton.node.x = 150;\n        this.rightInputButton.node.y = -this.canvas.node.height/2+40;\n        this.rightInputButton.node.width = 40;\n        this.rightInputButton.node.height = 40;/** */\n        this.rightInputButton.name = '>';\n        this.rightInputButton.o0ClickEvent.push(function () {\n            self.currentInputIndex += 1;\n            if(self.currentInputIndex >= self.inputArray.length){\n                self.currentInputIndex -= self.inputArray.length;\n            }\n            self.inputLabel.string = \"Control: \"+self.inputDict[self.inputArray[self.currentInputIndex]];\n        });\n\n        this.inputLabel = o0CC.addScriptNode(this.menuNode,'o0CCLabel',10);\n        o0CC.setGroup(this.inputLabel,o0Game.GroupIndex.UI);\n        this.inputLabel.node.x = 0;\n        this.inputLabel.node.y = -this.canvas.node.height/2+40;\n        this.inputLabel.node.width = 250;\n        this.inputLabel.node.height = 40;/** */\n        this.inputLabel.string = \"Control: \"+self.inputDict[self.inputArray[self.currentInputIndex]];\n\n        /*\n        this.gameScene = o0CC.addScriptNode(this.node,'GameScene',0);\n        this.gameScene.canvas = this.canvas;\n        this.gameScene.camera = this.camera;/** */\n        this.backgroundGraphic = this.menuNode.addComponent(cc.Graphics,0);\n        o0CC.setGroup(this.backgroundGraphic,o0Game.GroupIndex.UI);\n    },\n\n    // called every frame\n    update: function (dt) {\n        if(this.gameScene == null || this.gameScene.node == null){\n            this.menuNode.active = true;\n        }else{\n            this.menuNode.active = false;\n        }\n        \n        if(this.menuNode.active == true){\n            this.backgroundGraphic.clear();\n            this.backgroundGraphic.lineWidth = 1;\n            var time = new Date().getTime();\n            for(var i = parseInt(-this.canvas.node.width/2);i<parseInt(this.canvas.node.width/2*1.2);++i){\n                this.backgroundGraphic.moveTo(i,-this.canvas.node.height/2);\n                this.backgroundGraphic.lineTo(i-parseInt(this.canvas.node.width/2*0.2),this.canvas.node.height/2);\n                var color = Math.abs(Math.cos(i/20+Math.tan(time/5000)*5)) * 50;\n                this.backgroundGraphic.strokeColor = new cc.Color(color,color*1.1,color*1.2,100);\n                this.backgroundGraphic.stroke();\n            }\n            for(var i= parseInt(-this.canvas.node.height/2);i<parseInt(this.canvas.node.height/2*1.2);++i){\n                this.backgroundGraphic.moveTo(-this.canvas.node.width/2,i-parseInt(this.canvas.node.height/2*0.2));\n                this.backgroundGraphic.lineTo(this.canvas.node.width/2,i);\n                var color = Math.abs(Math.cos(i/20+Math.sin(time/2000)*10)) * 50;\n                this.backgroundGraphic.strokeColor = new cc.Color(color,color*1.1,color*1.2,100);\n                this.backgroundGraphic.stroke();\n            }\n        }/** */\n    }\n});\n\n\n"]}