window.__require=function e(t,n,o){function i(a,r){if(!n[a]){if(!t[a]){var c=a.split("/");if(c=c[c.length-1],!t[c]){var h="function"==typeof __require&&__require;if(!r&&h)return h(c,!0);if(s)return s(c,!0);throw new Error("Cannot find module '"+a+"'")}}var d=n[a]={exports:{}};t[a][0].call(d.exports,function(e){return i(t[a][1][e]||e)},d,d.exports,e,t,n,o)}return n[a].exports}for(var s="function"==typeof __require&&__require,a=0;a<o.length;a++)i(o[a]);return i}({Food:[function(e,t,n){"use strict";cc._RF.push(t,"12a13QFPAdM5pnBJ/q/CxRq","Food");e("o0");var o=e("o0CC"),i=e("o0Game");cc.Class({extends:cc.CircleCollider,properties:{score:{get:function(){return this._score},set:function(e){this._score=e;var t=Math.sqrt(e);this.node.scaleX=t,this.node.scaleY=t}}},onLoad:function(){var e=this;this.radius=15,o.setGroup(this,i.GroupIndex.Food);var t=this.node.addComponent(cc.ParticleSystem);cc.loader.loadRes("food16-16",cc.SpriteFrame,function(e,n){t.spriteFrame=n}),t.playOnLoad=!0,t.custom=!0,t.duration=-1,t.emissionRate=1e3,t.life=10,t.lifeVar=0,t.totalParticles=1;var n=o.randomBrightColor();t.startColor=new cc.Color(n.getR(),n.getG(),n.getB(),1e3),t.endColor=new cc.Color(n.getR(),n.getG(),n.getB(),0);var s=new cc.Color(0,0,0,0);t.startColorVar=s,t.endColorVar=s,t.angle=0,t.angleVar=0,t.startSize=30,t.startSizeVar=0,t.endSize=30,t.endSizeVar=0,t.startSpin=0,t.startSpinVar=0,t.endSpin=0,t.endSpinVar=0,t.sourcePos=new cc.v2(0,0),t.posVar=new cc.v2(0,0),t.positionType=cc.ParticleSystem.PositionType.GROUPED,t.emitterMode=cc.ParticleSystem.EmitterMode.RADIUS,t.startRadius=0,t.startRadiusVar=15,t.endRadius=0,t.endRadiusVar=15,t.rotatePerS=0,t.rotatePerSVar=300,t.SrcBlendFactor=cc.macro.BlendFactor.ONE,t.DstBlendFactor=cc.macro.BlendFactor.ONE_MINUS_SRC_ALPHA,this.scheduleOnce(function(){e.node.destroy()},10)}}),cc._RF.pop()},{o0:"o0",o0CC:"o0CC",o0Game:"o0Game"}],GameScene:[function(e,t,n){"use strict";cc._RF.push(t,"fe6d0QjIZxMWYuqZ2ihRc3l","GameScene");var o=e("o0"),i=e("o0CC"),s=e("o0Game");cc.Class({extends:cc.Component,properties:{canvas:null,camera:null,playGround:null,snakeNode:null,foodNode:null,playerSnake:null,playerName:"Player",playerSkin:null,playerInput:"",skinSet:null,snakeGeneratorTimer:null,maxSnake:10,maxFood:100,snakeIDcounter:0,foodIDcounter:0,leaderBoardNode:null,leaderBoardBackground:null,lengthLabel:null,lengthValueLabel:null,rankLabel:null,leaderBoardLabel:null,LRankLabels:[],LNameLabels:[],LScoreLabels:[],statisticalUpdateTimer:null,map:null,mapSize:150,respawnButton:null,returnButton:null,shareButton:null},generateAISnake:function(){if(this.snakeGeneratorTimer.tryNextTiming()&&this.snakeNode.childrenCount<this.maxSnake&&this.foodNode.childrenCount<this.maxFood){var e=this.addSnake("Snake","LocalControl","SnakeAIInput");e.name="AI-"+e.node.name,e.skin=[],e.skin.push(this.skinSet[parseInt(this.skinSet.length*Math.random())]);var t=o.randomInCircle2(2*this.playGround.radius);e.head.x=t.x,e.head.y=t.y}},addSnake:function(e){var t=i.addScriptNode(this.snakeNode,e,-1);t.gameScene=this,t.node.name=""+this.snakeIDcounter++;for(var n=1;n<arguments.length;++n)t.head.addComponent(arguments[n]);return t},onLoad:function(){var e=this;this.playGround=i.addScriptNode(this.node,"PlayGround2",-100),this.snakeNode=new cc.Node,this.node.addChild(this.snakeNode,4),this.foodNode=new cc.Node,this.node.addChild(this.foodNode,2),this.snakeGeneratorTimer=new o.Timer(1),this.rankLabel=i.addScriptNode(this.node,"cc.Label",10),i.setGroup(this.rankLabel,s.GroupIndex.UI),this.rankLabel.node.anchorX=0,this.rankLabel.node.anchorY=0,this.rankLabel.node.color=new cc.Color(255,255,255),this.rankLabel.fontSize=16,this.rankLabel.lineHeight=22,this.rankLabel.horizontalAlign=cc.Label.HorizontalAlign.LEFT,this.rankLabel.verticalAlign=cc.Label.VerticalAlign.CENTER,this.lengthLabel=i.addScriptNode(this.node,"cc.Label",10),i.setGroup(this.lengthLabel,s.GroupIndex.UI),this.lengthLabel.node.anchorX=0,this.lengthLabel.node.anchorY=0,this.lengthLabel.node.color=new cc.Color(255,255,255),this.lengthLabel.fontSize=16,this.lengthLabel.lineHeight=22,this.lengthLabel.horizontalAlign=cc.Label.HorizontalAlign.LEFT,this.lengthLabel.verticalAlign=cc.Label.VerticalAlign.CENTER,this.lengthValueLabel=i.addScriptNode(this.node,"cc.Label",10),i.setGroup(this.lengthValueLabel,s.GroupIndex.UI),this.lengthValueLabel.node.anchorX=0,this.lengthValueLabel.node.anchorY=0,this.lengthValueLabel.node.color=new cc.Color(255,255,255),this.lengthValueLabel.fontSize=26,this.lengthValueLabel.lineHeight=32,this.lengthValueLabel.horizontalAlign=cc.Label.HorizontalAlign.LEFT,this.lengthValueLabel.verticalAlign=cc.Label.VerticalAlign.CENTER,this.leaderBoardBackground=i.addScriptNode(this.node,"cc.Graphics",10),i.setGroup(this.leaderBoardBackground,s.GroupIndex.UI),this.leaderBoardNode=this.leaderBoardBackground.node,this.leaderBoardLabel=i.addScriptNode(this.leaderBoardNode,"cc.Label",10),this.leaderBoardLabel.node.anchorX=1,this.leaderBoardLabel.node.anchorY=1,this.leaderBoardLabel.node.color=new cc.Color(255,255,255),this.leaderBoardLabel.fontSize=20,this.leaderBoardLabel.lineHeight=36,this.leaderBoardLabel.horizontalAlign=cc.Label.HorizontalAlign.LEFT,this.leaderBoardLabel.verticalAlign=cc.Label.VerticalAlign.CENTER;for(var t=0;t<10;++t){(n=i.addScriptNode(this.leaderBoardNode,"cc.Label",10)).node.anchorX=1,n.node.anchorY=1,n.node.color=new cc.Color(255,255,255),n.fontSize=16,n.lineHeight=22,n.horizontalAlign=cc.Label.HorizontalAlign.LEFT,n.verticalAlign=cc.Label.VerticalAlign.CENTER,this.LScoreLabels.push(n)}for(t=0;t<10;++t){(n=i.addScriptNode(this.leaderBoardNode,"cc.Label",10)).node.anchorX=0,n.node.anchorY=1,n.node.color=new cc.Color(255,255,255),n.fontSize=16,n.lineHeight=22,n.horizontalAlign=cc.Label.HorizontalAlign.LEFT,n.verticalAlign=cc.Label.VerticalAlign.CENTER,this.LNameLabels.push(n)}for(t=0;t<10;++t){var n;(n=i.addScriptNode(this.leaderBoardNode,"cc.Label",10)).node.anchorX=1,n.node.anchorY=1,n.node.color=new cc.Color(255,255,255),n.fontSize=16,n.lineHeight=22,n.horizontalAlign=cc.Label.HorizontalAlign.LEFT,n.verticalAlign=cc.Label.VerticalAlign.CENTER,n.string="#"+(t+1),this.LRankLabels.push(n)}this.statisticalUpdateTimer=new o.Timer(1),this.map=i.addScriptNode(this.node,"cc.Graphics",10),i.setGroup(this.map,s.GroupIndex.UI),this.respawnButton=i.addScriptNode(this.node,"o0CCButton",10),i.setGroup(this.respawnButton,s.GroupIndex.UI),this.respawnButton.node.active=!1,this.respawnButton.node.x=0,this.respawnButton.node.y=0,this.respawnButton.node.width=200,this.respawnButton.node.height=40,this.respawnButton.name="Respawn";var a=this;this.shareButton=i.addScriptNode(this.node,"o0CCButton",10),i.setGroup(this.shareButton,s.GroupIndex.UI),this.shareButton.node.active=!1,this.shareButton.node.x=0,this.shareButton.node.y=60,this.shareButton.node.width=200,this.shareButton.node.height=40,this.shareButton.name="Share",this.shareButton.o0ClickEvent.push(function(){cc.log("share"),cc.log(a.rankLabel.string),cc.log(a.lengthValueLabel.string),cc.sys.openURL("twitter://post?text=I am in possion "+a.rankLabel.string+"with "+a.lengthValueLabel.string+"!!!!")}),this.returnButton=i.addScriptNode(this.node,"o0CCButton",10),i.setGroup(this.returnButton,s.GroupIndex.UI),this.returnButton.node.active=!1,this.returnButton.node.x=0,this.returnButton.node.y=-60,this.returnButton.node.width=200,this.returnButton.node.height=40,this.returnButton.name="Return to Menu",this.returnButton.o0ClickEvent.push(function(){e.node.destroy()})},start:function(){this.camera.node.zIndex=100,this.playGround.canvas=this.canvas,this.playGround.camera=this.camera},update:function(e){if(null!=this.playerSnake&&null!=this.playerSnake.node?(this.returnButton.node.active=!1,this.respawnButton.node.active=!1,this.shareButton.node.active=!1):(this.returnButton.node.active=!0,this.respawnButton.node.active=!0,this.shareButton.node.active=!0),this.rankLabel.node.x=-this.canvas.node.width/2+5,this.rankLabel.node.y=-this.canvas.node.height/2+5,null!=this.playerSnake&&null!=this.playerSnake.node){for(var t=1,n=0;n<this.snakeNode.childrenCount;++n)this.snakeNode.children[n].getComponent("Snake").score>this.playerSnake.score&&t++;this.rankLabel.string="Your rank: "+t+" of "+this.snakeNode.childrenCount}this.lengthLabel.node.x=this.rankLabel.node.x,this.lengthLabel.node.y=this.rankLabel.node.y+this.rankLabel.fontSize,this.lengthLabel.string="Your length: ",this.lengthValueLabel.node.x=this.lengthLabel.node.x+85,this.lengthValueLabel.node.y=this.lengthLabel.node.y,null!=this.playerSnake&&null!=this.playerSnake.node&&(this.lengthValueLabel.string=Math.floor(this.playerSnake.score)),this.leaderBoardLabel.node.x=this.canvas.node.width/2-65,this.leaderBoardLabel.node.y=this.canvas.node.height/2,this.leaderBoardLabel.string="LeaderBoard",this.leaderBoardBackground.clear(),this.leaderBoardBackground.fillRect(this.canvas.node.width/2-235,this.canvas.node.height/2-205,230,170),this.leaderBoardBackground.fillColor=new cc.Color(255,255,255,30),this.leaderBoardBackground.fill();for(n=0;n<10;++n)this.LScoreLabels[n].node.x=this.canvas.node.width/2-10,this.LScoreLabels[n].node.y=this.leaderBoardLabel.node.y-this.leaderBoardLabel.lineHeight-n*this.LScoreLabels[n].fontSize,this.LNameLabels[n].node.x=this.canvas.node.width/2-180,this.LNameLabels[n].node.y=this.leaderBoardLabel.node.y-this.leaderBoardLabel.lineHeight-n*this.LScoreLabels[n].fontSize,this.LRankLabels[n].node.x=this.canvas.node.width/2-200,this.LRankLabels[n].node.y=this.leaderBoardLabel.node.y-this.leaderBoardLabel.lineHeight-n*this.LScoreLabels[n].fontSize;if(this.map.node.x=this.canvas.node.width/2-this.mapSize/2-10,this.map.node.y=-(this.canvas.node.height/2-this.mapSize/2-10),this.statisticalUpdateTimer.tryNextTiming()){var i=[];for(n=0;n<this.snakeNode.childrenCount;++n)null!=this.snakeNode.children[n]&&this.snakeNode.children[n].isValid&&null!=this.snakeNode.children[n].getComponent("Snake")&&i.push(this.snakeNode.children[n]);i=i.sort(function(e,t){var n=e.getComponent("Snake"),o=t.getComponent("Snake");return null==n?o.score:null==o?n.score:null==n&&null==o?0:o.score-n.score});for(n=0;n<10;++n)if(null!=i[n]){var s=i[n].getComponent("Snake");null!=s&&(this.LScoreLabels[n].string=Math.floor(s.score)),this.LNameLabels[n].string=s.name,this.LScoreLabels[n].node.color=s.color,this.LNameLabels[n].node.color=s.color,this.LRankLabels[n].node.color=s.color}else this.LScoreLabels[n].string="",this.LNameLabels[n].string="",this.LScoreLabels[n].node.color=new cc.Color(255,255,255),this.LNameLabels[n].node.color=new cc.Color(255,255,255),this.LRankLabels[n].node.color=new cc.Color(255,255,255);if(this.map.clear(),this.map.circle(0,0,this.mapSize/2),this.map.fillColor=new cc.Color(255,255,255,30),this.map.fill(),0!=this.foodNode.childrenCount){this.map.close();for(n=0;n<this.foodNode.childrenCount;++n){var a=new o.Vector2(this.foodNode.children[n]).multiply(this.mapSize/1.1/2/this.playGround.radius);this.map.circle(a.x,a.y,1)}this.map.fillColor=new cc.Color(255,255,255,255),this.map.fill()}if(null!=this.playerSnake&&null!=this.playerSnake.node){this.map.close();for(n=0;n<1;++n){var r=new o.Vector2(this.playerSnake.body[n]).multiply(this.mapSize/1.1/2/this.playGround.radius);this.map.circle(r.x,r.y,5)}this.map.fillColor=new cc.Color(0,255,0,100),this.map.fill()}}},lateUpdate:function(e){if(null!=this.playerSnake&&null!=this.playerSnake.node){var t=this.camera.node.parent.convertToNodeSpaceAR(this.playerSnake.head.convertToWorldSpace(cc.v2(0,0)));if(this.camera.node.x!=t.x||this.camera.node.y!=t.y){var n=new o.Vector2(t).minus(new o.Vector2(this.camera.node));n.length>10&&(n=n.toLength(Math.pow(n.length,.6))),this.camera.node.x+=n.x,this.camera.node.y+=n.y}var i=1/this.camera.zoomRatio,s=Math.pow(this.playerSnake.head.scaleX*this.playerSnake.head.scaleY,.5),a=i*Math.pow(s/i,.1);this.camera.zoomRatio=1/a}},_onPreDestroy:function(){}}),cc._RF.pop()},{o0:"o0",o0CC:"o0CC",o0Game:"o0Game"}],LocalControl:[function(e,t,n){"use strict";cc._RF.push(t,"71788YhtEFOP4XPq/No+SYd","LocalControl");var o=e("o0"),i=e("o0CC"),s=e("o0Game");cc.Class({extends:cc.CircleCollider,properties:{speed:1,turningSpeed:6,normalSpeedRate:1,speedingSpeedRate:3,targetSpeedRate:1,isSpeeding:{get:function(){return this.targetSpeedRate!=this.normalSpeedRate}},targetVector:null,bodySpacingRate:.4,bodySpacing:0,pulledScore:0,pullScoreThreshold:{get:function(){return 2*Math.pow(this.snake.body[0].scaleX*this.snake.body[0].scaleY,1)}},pullScoreRate:.7,speedingScoreCost:.1,minScore:5,snake:null,fixedTimer:null},updateSpeed:function(){this.speed=5*Math.pow(this.snake.body[0].scaleX*this.snake.body[0].scaleY,1/3)},updateBodySpacing:function(){this.bodySpacing=2*this.radius*this.bodySpacingRate*Math.sqrt(this.snake.body[0].scaleX*this.snake.body[0].scaleY)},setTargetSpeeding:function(e){this.targetSpeedRate=e?this.speedingSpeedRate:this.normalSpeedRate},setTargetVector:function(e){this.targetVector=e},removeTargetVector:function(){this.setTargetVector(i.vectorFromRotation(this.snake.head.rotation))},addScore:function(e){null!=this.snake&&(this.snake.setScore(this.snake.score+e),this.updateBodySpacing(),this.updateSpeed())},pullFood:function(e){var t=i.addScriptNode(this.snake.gameScene.foodNode,"Food",-100),n=this.snake.body[this.snake.body.length-1],s=o.randomInCircle2(n,2*(this.radius-t.radius));t.node.x=s.x,t.node.y=s.y,t.score=e,t.node.name=""+this.snake.gameScene.foodIDcounter++},pullAllFood:function(){for(var e=this.pullScoreThreshold;this.snake.score>=1;)this.pullScore(1,e)},pullScore:function(e){var t;this.snake.setScore(this.snake.score-e),this.updateBodySpacing(),this.updateSpeed(),this.pulledScore+=e*this.pullScoreRate,t=arguments.length<2?this.pullScoreThreshold:arguments[1],this.pulledScore>=t&&(this.pulledScore-=t,this.pullFood(t))},updateSnakeBody:function(){for(var e=0,t=1;t<this.snake.body.length;++e,++t){var n=new o.Vector2(this.snake.body[e].x-this.snake.body[t].x,this.snake.body[e].y-this.snake.body[t].y),s=n.length-this.bodySpacing;t==this.snake.body.length-1&&(s+=this.bodySpacing*(Math.ceil(this.snake.bodyLength)-this.snake.bodyLength)),n=n.mod,this.snake.body[t].rotation=i.rotationFromVector(n),s<=0||(this.snake.body[t].x+=n.x*s,this.snake.body[t].y+=n.y*s)}},pulsatingFeedback:function(){if(this.isSpeeding&&this.snake.score>this.minScore)for(var e=0;e<this.snake.body.length;++e){if(null==(o=this.snake.body[e].getComponent(cc.Graphics)))return;o.clear();for(var t=Math.abs(((new Date).getTime()/10-2*e)%40-20),n=0;n<t;++n)o.circle(0,0,this.radius+n),o.strokeColor=new cc.Color(255,255,255,5*(t-n)),o.stroke()}else for(e=0;e<this.snake.body.length;++e){var o;if(null==(o=this.snake.body[e].getComponent(cc.Graphics)))return;o.clear()}},onLoad:function(){this.snake=this.node.parent.getComponent("Snake"),this.radius=this.snake.size/2,this.removeTargetVector(),this.snake.updateScale(),this.updateBodySpacing(),this.updateSpeed()},start:function(){this.addScore(10),this.fixedTimer=new o.FixedTimerDT(60)},update:function(e){if(null!=this.node&&0!=this.node.isValid||cc.log("Memory leak: Control"),0!=this.isValid&&null!=this.node&&0!=this.node.isValid&&null!=this.snake){for(var t=0;t<1;++t){var n;this.snake.score<=this.minScore?n=this.normalSpeedRate:(n=this.targetSpeedRate)!=this.normalSpeedRate&&n==this.speedingSpeedRate&&this.pullScore(this.speedingScoreCost);for(var o=0;o<n;++o){this.targetRotation=i.rotationFromVector(this.targetVector),this.snake.head.rotation=i.nextRotation(this.snake.head.rotation,this.targetRotation,this.turningSpeed);var s=i.vectorFromRotation(this.snake.head.rotation);this.snake.body[0].x+=s.x*this.speed,this.snake.body[0].y+=s.y*this.speed,this.updateSnakeBody()}}this.pulsatingFeedback()}},onCollisionEnter:function(e,t){if(null!=e.node&&0!=e.node.active&&null!=this.node&&0!=this.node.active&&t==this){if(e.node.groupIndex==s.GroupIndex.Body){var n=!1;if(this.snake.body.length>1)for(var o=1;o<this.snake.body.length;++o)if(e.node==this.snake.body[o]){n=!0;break}0==n&&(this.pullAllFood(),this.snake.node.destroy())}e.node.groupIndex==s.GroupIndex.Food&&(this.addScore(e.score),e.node.destroy())}},onCollisionExit:function(e,t){null!=e.node&&0!=e.node.active&&null!=this.node&&0!=this.node.active&&t==this&&e.node.groupIndex==s.GroupIndex.PlayGround&&(this.pullAllFood(),this.snake.node.destroy())},_onPreDestroy:function(){}}),cc._RF.pop()},{o0:"o0",o0CC:"o0CC",o0Game:"o0Game"}],LocalGameScene:[function(e,t,n){"use strict";cc._RF.push(t,"b5344Or9PVBna6xxfmddf5f","LocalGameScene");var o=e("o0");e("o0CC"),e("o0Game");cc.Class({extends:e("GameScene"),properties:{},onLoad:function(){this._super();var e=this;cc.director.getCollisionManager().enabled=!0,this.respawnButton.o0ClickEvent.push(function(){e.playerSnake=e.addSnake("Snake","LocalControl",e.playerInput),e.playerSnake.name=e.playerName,e.playerSnake.skin=e.playerSkin;var t=o.randomInCircle2(2*e.playGround.radius);e.playerSnake.head.x=t.x,e.playerSnake.head.y=t.y})},start:function(){this._super(),this.playerSnake=this.addSnake("Snake","LocalControl",this.playerInput),this.playerSnake.name=this.playerName,this.playerSnake.skin=this.playerSkin},update:function(e){this._super(),this.generateAISnake()}}),cc._RF.pop()},{GameScene:"GameScene",o0:"o0",o0CC:"o0CC",o0Game:"o0Game"}],Menu:[function(e,t,n){"use strict";cc._RF.push(t,"9ca35CIzUhIx4zqA23EHC93","Menu");var o=e("o0"),i=e("o0CC"),s=e("o0Game");cc.Class({extends:cc.Component,properties:{canvas:{default:null,type:cc.Canvas},camera:{default:null,type:cc.Camera},UICamera:{default:null,type:cc.Camera},gameScene:null,menuNode:null,nameBox:null,singlePlayerButton:null,connectAddressBox:null,multiplayerButton:null,backgroundGraphic:null,skinNode:null,skinDict:[],skinSnake:null,skinLabel:null,skinClearButton:null,inputArray:[],inputDict:[],currentInputIndex:0,leftInputButton:null,rightInputButton:null,inputLabel:null},addSkin:function(e,t,n){var o=this,a=i.addScriptNode(this.skinNode,"o0CCButtonNoImage",10);i.setGroup(this.multiplayerButton,s.GroupIndex.UI),a.node.x=t,a.node.y=n,a.node.width=42,a.node.height=42,a.label.enabled=!1,a.o0ClickEvent.push(function(){o.skinSnake.addSkin(e)}),cc.loader.loadRes("snake/"+e,cc.SpriteFrame,function(t,n){o.skinDict[e]=n,a.sprite.spriteFrame=n})},onLoad:function(){var e=this;cc.director.getPhysicsManager().enabled=!0,this.menuNode=new cc.Node,this.node.addChild(this.menuNode,1),this.nameBox=i.addScriptNode(this.menuNode,"o0CCEditBox",10),i.setGroup(this.nameBox,s.GroupIndex.UI),this.nameBox.node.x=-240,this.nameBox.node.y=100,this.nameBox.node.width=200,this.nameBox.node.height=40,this.nameBox.maxLength=20,this.nameBox.string="Player-"+Math.floor(1e3*Math.random()),this.nameBox.placeholder="snake name",this.singlePlayerButton=i.addScriptNode(this.menuNode,"o0CCButton",10),i.setGroup(this.singlePlayerButton,s.GroupIndex.UI),this.singlePlayerButton.node.x=-240,this.singlePlayerButton.node.y=20,this.singlePlayerButton.node.width=200,this.singlePlayerButton.node.height=40,this.singlePlayerButton.name="Play",this.singlePlayerButton.o0ClickEvent.push(function(){null!=e.skinSnake.skin&&(e.gameScene=i.addScriptNode(e.node,"LocalGameScene",0),e.gameScene.playerName=e.nameBox.string,e.gameScene.playerSkin=e.skinSnake.skin,e.gameScene.playerInput=e.inputArray[e.currentInputIndex],e.gameScene.skinSet=Object.keys(e.skinDict),e.gameScene.canvas=e.canvas,e.gameScene.camera=e.camera)}),this.connectAddressBox=i.addScriptNode(this.menuNode,"o0CCEditBox",10),i.setGroup(this.connectAddressBox,s.GroupIndex.UI),this.connectAddressBox.node.x=-240,this.connectAddressBox.node.y=-60,this.connectAddressBox.node.width=200,this.connectAddressBox.node.height=40,this.connectAddressBox.maxLength=21,this.connectAddressBox.string="localhost:6666",this.connectAddressBox.placeholder="address",this.multiplayerButton=i.addScriptNode(this.menuNode,"o0CCButton",10),i.setGroup(this.multiplayerButton,s.GroupIndex.UI),this.multiplayerButton.node.x=-240,this.multiplayerButton.node.y=-100,this.multiplayerButton.node.width=200,this.multiplayerButton.node.height=40,this.multiplayerButton.name="Join",this.multiplayerButton.o0ClickEvent.push(function(){null!=e.skinSnake.skin&&(e.gameScene=i.addScriptNode(e.node,"RemoteGameScene",0),e.gameScene.playerName=e.nameBox.string,e.gameScene.playerSkin=e.skinSnake.skin,e.gameScene.playerInput=e.inputArray[e.currentInputIndex],e.gameScene.skinSet=Object.keys(e.skinDict),e.gameScene.canvas=e.canvas,e.gameScene.camera=e.camera,e.gameScene.remoteUIAddress.string=e.connectAddressBox.string)}),this.skinNode=new cc.Node,this.skinNode.parent=this.menuNode,this.skinNode.x=-50,this.skinNode.y=150,this.addSkin("blue",0,0),this.addSkin("blueYellow",60,0),this.addSkin("green",120,0),this.addSkin("greenLightBlue",180,0),this.addSkin("lightBlue",240,0),this.addSkin("orangeYellow",300,0),this.addSkin("pink",360,0),this.addSkin("pinkBlue",30,50),this.addSkin("rainbow",90,50),this.addSkin("red",150,50),this.addSkin("redGreen",210,50),this.addSkin("redGreen2",270,50),this.addSkin("redGreen3",330,50),this.addSkin("yellow",390,50),this.skinLabel=i.addScriptNode(this.skinNode,"o0CCLabel",10),i.setGroup(this.skinLabel,s.GroupIndex.UI),this.skinLabel.node.x=80,this.skinLabel.node.y=100,this.skinLabel.node.width=200,this.skinLabel.node.height=40,this.skinLabel.string="Choose Your Skin:",this.skinClearButton=i.addScriptNode(this.skinNode,"o0CCButton",10),i.setGroup(this.skinClearButton,s.GroupIndex.UI),this.skinClearButton.node.x=350,this.skinClearButton.node.y=100,this.skinClearButton.node.width=100,this.skinClearButton.node.height=40,this.skinClearButton.name="Reset",this.skinClearButton.o0ClickEvent.push(function(){e.skinSnake.clearSkin()}),this.skinSnake=i.addScriptNode(this.skinNode,"SkinSampleSnake",1),this.skinSnake.addSkin("lightBlue"),this.skinSnake.addSkin("orangeYellow"),this.skinSnake.addSkin("lightBlue"),this.skinSnake.addSkin("orangeYellow"),this.skinSnake.addSkin("lightBlue"),this.skinSnake.addSkin("orangeYellow"),this.skinSnake.addSkin("lightBlue"),this.skinSnake.addSkin("orangeYellow");var t=this.skinSnake.head.addComponent("SkinSampleControl");t.targetPosition=new o.Vector2(200,-200),t.setTargetVector(new o.Vector2(1,1).mod),this.schedule(function(){t.setTargetVector(i.vectorFromRotation(360*Math.random()))},3),this.inputArray.push("SnakeJoystickInput"),this.inputDict.SnakeJoystickInput="Joystick",this.inputArray.push("SnakeTouchInput"),this.inputDict.SnakeTouchInput="Touch",this.inputArray.push("SnakeMouseInput"),this.inputDict.SnakeMouseInput="Mouse",this.inputArray.push("SnakeAccelerometerInput"),this.inputDict.SnakeAccelerometerInput="Accelerometer",this.inputArray.push("SnakeKeyboardArrowkeyInput"),this.inputDict.SnakeKeyboardArrowkeyInput="Keyboard Arrow keys",this.inputArray.push("SnakeKeyboardSteeringInput"),this.inputDict.SnakeKeyboardSteeringInput="Keyboard Steering",this.leftInputButton=i.addScriptNode(this.menuNode,"o0CCButton",10),i.setGroup(this.leftInputButton,s.GroupIndex.UI),this.leftInputButton.node.x=-150,this.leftInputButton.node.y=-this.canvas.node.height/2+40,this.leftInputButton.node.width=40,this.leftInputButton.node.height=40,this.leftInputButton.name="<",this.leftInputButton.o0ClickEvent.push(function(){e.currentInputIndex-=1,e.currentInputIndex<0&&(e.currentInputIndex+=e.inputArray.length),e.inputLabel.string="Control: "+e.inputDict[e.inputArray[e.currentInputIndex]]}),this.rightInputButton=i.addScriptNode(this.menuNode,"o0CCButton",10),i.setGroup(this.rightInputButton,s.GroupIndex.UI),this.rightInputButton.node.x=150,this.rightInputButton.node.y=-this.canvas.node.height/2+40,this.rightInputButton.node.width=40,this.rightInputButton.node.height=40,this.rightInputButton.name=">",this.rightInputButton.o0ClickEvent.push(function(){e.currentInputIndex+=1,e.currentInputIndex>=e.inputArray.length&&(e.currentInputIndex-=e.inputArray.length),e.inputLabel.string="Control: "+e.inputDict[e.inputArray[e.currentInputIndex]]}),this.inputLabel=i.addScriptNode(this.menuNode,"o0CCLabel",10),i.setGroup(this.inputLabel,s.GroupIndex.UI),this.inputLabel.node.x=0,this.inputLabel.node.y=-this.canvas.node.height/2+40,this.inputLabel.node.width=250,this.inputLabel.node.height=40,this.inputLabel.string="Control: "+e.inputDict[e.inputArray[e.currentInputIndex]],this.backgroundGraphic=this.menuNode.addComponent(cc.Graphics,0),i.setGroup(this.backgroundGraphic,s.GroupIndex.UI)},update:function(e){if(null==this.gameScene||null==this.gameScene.node?this.menuNode.active=!0:this.menuNode.active=!1,1==this.menuNode.active){this.backgroundGraphic.clear(),this.backgroundGraphic.lineWidth=1;for(var t=(new Date).getTime(),n=parseInt(-this.canvas.node.width/2);n<parseInt(this.canvas.node.width/2*1.2);++n){this.backgroundGraphic.moveTo(n,-this.canvas.node.height/2),this.backgroundGraphic.lineTo(n-parseInt(this.canvas.node.width/2*.2),this.canvas.node.height/2);var o=50*Math.abs(Math.cos(n/20+5*Math.tan(t/5e3)));this.backgroundGraphic.strokeColor=new cc.Color(o,1.1*o,1.2*o,100),this.backgroundGraphic.stroke()}for(n=parseInt(-this.canvas.node.height/2);n<parseInt(this.canvas.node.height/2*1.2);++n){this.backgroundGraphic.moveTo(-this.canvas.node.width/2,n-parseInt(this.canvas.node.height/2*.2)),this.backgroundGraphic.lineTo(this.canvas.node.width/2,n);o=50*Math.abs(Math.cos(n/20+10*Math.sin(t/2e3)));this.backgroundGraphic.strokeColor=new cc.Color(o,1.1*o,1.2*o,100),this.backgroundGraphic.stroke()}}}}),cc._RF.pop()},{o0:"o0",o0CC:"o0CC",o0Game:"o0Game"}],PlayGround2:[function(e,t,n){"use strict";cc._RF.push(t,"46de48JdmJKaqg3PLpui3Mh","PlayGround2");var o=e("o0"),i=e("o0CC"),s=e("o0Game");cc.Class({extends:cc.CircleCollider,properties:{canvas:null,camera:null,backgroundGraphic:null},onLoad:function(){this.radius=2e3;var e=this.radius+40;i.setGroup(this,s.GroupIndex.PlayGround);var t=this.node.addComponent(cc.Graphics);t.clear(),t.circle(0,0,2*e),t.fillColor=new cc.Color(155,23,33,255),t.fill(),t.circle(0,0,e),t.fillColor=new cc.Color(16,23,33,255),t.fill();var n=i.addGraphicNode(this.node,1);n.clear();for(var o=0;o<100;++o)n.circle(0,0,e-100+o),n.strokeColor=new cc.Color(16+o/2,23,33,2.5*o),n.stroke();this.backgroundGraphic=this.node.addComponent(cc.Graphics)},start:function(){var e={event:cc.EventListener.MOUSE,onMouseDown:function(e){},onMouseUp:function(e){cc.log()},onMouseMove:function(e){},onMouseScroll:function(e){}};cc.eventManager.addListener(e,this.node)},lateUpdate:function(e){var t=this.camera.node.convertToWorldSpaceAR(cc.v2(0,0));t=new o.Vector2(this.node.convertToNodeSpaceAR(t));var n=new o.Vector2(this.node.convertToNodeSpaceAR(cc.v2(-0,-0))).multiply(-1/this.camera.zoomRatio);t=t.minus(n);var i=n.multiply(2);this.backgroundGraphic.clear(),this.backgroundGraphic.lineWidth=1;for(var s=parseInt(t.x);s<parseInt(t.x+1.1*i.x);++s){this.backgroundGraphic.moveTo(s,parseInt(t.y)),this.backgroundGraphic.lineTo(s-parseInt(.1*i.x),parseInt(t.y+i.y));var a=50*Math.abs(Math.cos(s/50));this.backgroundGraphic.strokeColor=new cc.Color(a,1.1*a,1.2*a,100),this.backgroundGraphic.stroke()}for(s=parseInt(t.y);s<parseInt(t.y+1.1*i.y);++s){this.backgroundGraphic.moveTo(parseInt(t.x),s-parseInt(.1*i.y)),this.backgroundGraphic.lineTo(parseInt(t.x+i.x),s);a=50*Math.abs(Math.cos(s/50));this.backgroundGraphic.strokeColor=new cc.Color(a,1.1*a,1.2*a,100),this.backgroundGraphic.stroke()}}}),cc._RF.pop()},{o0:"o0",o0CC:"o0CC",o0Game:"o0Game"}],PlayGround:[function(e,t,n){"use strict";cc._RF.push(t,"84432s7SQtJVapohBT+kfaI","PlayGround");var o=e("o0"),i=e("o0CC"),s=e("o0Game");cc.Class({extends:cc.CircleCollider,properties:{backgroundPattern:[],canvas:null,camera:null},onLoad:function(){this.radius=3e3;var e=this.radius+40;i.setGroup(this,s.GroupIndex.PlayGround);var t=this.node.addComponent(cc.Graphics);t.clear(),t.circle(0,0,2*e),t.fillColor=new cc.Color(155,23,33,255),t.fill(),t.circle(0,0,e),t.fillColor=new cc.Color(16,23,33,255),t.fill();var n=i.addGraphicNode(this.node,1);n.clear();for(var o=0;o<100;++o)n.circle(0,0,e-100+o),n.strokeColor=new cc.Color(16+o/2,23,33,2.5*o),n.stroke()},start:function(){var e={event:cc.EventListener.MOUSE,onMouseDown:function(e){},onMouseUp:function(e){cc.log()},onMouseMove:function(e){},onMouseScroll:function(e){}};cc.eventManager.addListener(e,this.node)},addBackgroundPattern:function(){var e=i.addSpriteNode(this.node,"background",0).node;this.backgroundPattern.push(e),e.scaleX=1,e.scaleY=1,e.rotation=10},update:function(e){var t=this.camera.node.convertToWorldSpaceAR(cc.v2(0,0));t=new o.Vector2(this.node.convertToNodeSpaceAR(t));var n=new o.Vector2(this.node.convertToNodeSpaceAR(cc.v2(-100,-100))).multiply(-1/this.camera.zoomRatio);t=t.minus(n);for(var i=n.multiply(2),s=o.arrangeInRect2(new o.Rect(t,i),new o.Vector2(0,0),new o.Vector2(50,-9),new o.Vector2(25,32.5)),a=this.backgroundPattern.length-s.length,r=0;r<-a;++r)this.addBackgroundPattern();for(r=0;r<s.length;++r){this.backgroundPattern[r].x=s[r].x,this.backgroundPattern[r].y=s[r].y;var c=1-.1*(Math.sin(s[r].x)+Math.sin(s[r].y));this.backgroundPattern[r].scaleX=c,this.backgroundPattern[r].scaleY=c}}}),cc._RF.pop()},{o0:"o0",o0CC:"o0CC",o0Game:"o0Game"}],RemoteControl:[function(e,t,n){"use strict";cc._RF.push(t,"166f5ToEDBKjroYKlQiXsZl","RemoteControl");var o=e("o0"),i=e("o0CC");e("o0Game");cc.Class({extends:e("LocalControl"),properties:{remotePosition:null},update:function(e){if(null!=this.node&&0!=this.node.isValid||cc.log("Memory leak: Control"),0!=this.isValid&&null!=this.node&&0!=this.node.isValid&&null!=this.snake){this.updateBodySpacing(),this.updateSpeed();for(var t=0;t<1;++t){var n;n=this.snake.score<=this.minScore?this.normalSpeedRate:this.targetSpeedRate;for(var s=0;s<n;++s){if(this.targetRotation=i.rotationFromVector(this.targetVector),this.snake.head.rotation=i.nextRotation(this.snake.head.rotation,this.targetRotation,this.turningSpeed),null!=this.remotePosition){var a=1.1*this.speed,r=this.remotePosition.minus(new o.Vector2(this.snake.head.x,this.snake.head.y));r.length<=a?(this.snake.head.x=this.remotePosition.x,this.snake.head.y=this.remotePosition.y):(r=r.toLength(a+.2*(r.length-a)),this.snake.head.x+=r.x,this.snake.head.y+=r.y)}this.updateSnakeBody()}}this.pulsatingFeedback()}},onCollisionEnter:function(e,t){},onCollisionExit:function(e,t){}}),cc._RF.pop()},{LocalControl:"LocalControl",o0:"o0",o0CC:"o0CC",o0Game:"o0Game"}],RemoteGameScene:[function(e,t,n){"use strict";cc._RF.push(t,"41f21LY+0xMd7OarH5pQYgS","RemoteGameScene");var o=e("o0"),i=e("o0CC"),s=e("o0Game");cc.Class({extends:e("GameScene"),properties:{remoteUINode:null,remoteUIAddress:null,isHost:!1,webSocket:null,id:null,connectionIdToSnakeId:[]},processData:function(e){if("string"==typeof e.data){var t=JSON.parse(e.data),n=t.data;if(null!=t.id&&(this.id=t.id),this.isHost){if(null!=t.fromId&&null!=n&&null!=n.name&&null!=n.skin&&(null==this.connectionIdToSnakeId[t.fromId]||this.snakeNode.getChildByName(null==this.connectionIdToSnakeId[t.fromId]))){(d=this.addSnake("Snake","LocalControl")).name=n.name,d.skin=n.skin,l=d.node;var s=o.randomInCircle2(2*this.playGround.radius);d.head.x=s.x,d.head.y=s.y,this.connectionIdToSnakeId[t.fromId]=l.name}if(null!=t.fromId&&null!=n&&null!=n.vector&&null!=n.vector.x&&null!=n.vector.y&&null!=n.speeding&&null!=this.connectionIdToSnakeId[t.fromId])if(null!=(l=this.snakeNode.getChildByName(this.connectionIdToSnakeId[t.fromId]))){var a=l.getComponent("Snake").head.getComponent("LocalControl");null!=a&&(a.setTargetVector(new o.Vector2(n.vector.x,n.vector.y)),a.setTargetSpeeding(n.speeding))}}else if(null!=t.host&&1==t.host&&(0==this.snakeNode.childrenCount&&0==this.foodNode.childrenCount?(cc.log("Become Host"),this.isHost=!0,cc.director.getCollisionManager().enabled=!0):null!=this.webSocket&&(this.webSocket.close(),this.webSocket=null)),null!=n){if(null!=n.snake){for(var r=new Array,c=0;c<this.snakeNode.childrenCount;++c){1==(l=this.snakeNode.children[c]).isValid&&(r[l.name]=l)}for(c=0;c<n.snake.length;++c){var h=n.snake[c];if(null!=h&&null!=h.id&&null!=h.score&&null!=h.position&&null!=h.rotation&&null!=h.skin){var d,l=r[h.id];if(delete r[h.id],null==l)null!=h.cid&&h.cid==this.id?(this.playerSnake=this.addSnake("RemoteSnake","RemoteControl",this.playerInput),d=this.playerSnake):d=this.addSnake("RemoteSnake","RemoteControl"),null!=h.name&&(d.name=h.name),(l=d.node).name=h.id,d.head.x=h.position.x,d.head.y=h.position.y,d.skin=h.skin;(d=l.getComponent("Snake")).setScore(h.score),d.head.rotation=h.rotation,d.head.getComponent("RemoteControl").remotePosition=new o.Vector2(h.position.x,h.position.y)}}for(var u in r)null!=r[u]&&1==r[u].active&&r[u].isValid&&(r[u].active=!1,r[u].destroy())}if(null!=n.food){var p=new Array;for(c=0;c<this.foodNode.childrenCount;++c){1==(y=this.foodNode.children[c]).isValid&&(p[y.name]=y)}for(c=0;c<n.food.length;++c){var g=n.food[c];if(null!=g&&null!=g.id&&null!=g.score&&null!=g.position){var y=p[g.id];if(delete p[g.id],null==y){var k=i.addScriptNode(this.foodNode,"Food",-100);k.node.x=g.position.x,k.node.y=g.position.y,k.score=g.score,k.node.name=g.id}}}for(var u in p)null!=p[u]&&1==p[u].active&&p[u].isValid&&(p[u].active=!1,p[u].destroy())}}}},generatePlayerSnake:function(e){if(1==this.isHost){this.playerSnake=this.addSnake("Snake","LocalControl",this.playerInput),this.playerSnake.name=this.playerName,this.playerSnake.skin=this.playerSkin;var t=o.randomInCircle2(2*this.playGround.radius);this.playerSnake.head.x=t.x,this.playerSnake.head.y=t.y}else this.send({name:this.playerName,skin:this.playerSkin})},send:function(e){var t=JSON.stringify(e),n=this;setTimeout(function(){n.webSocket.readyState===WebSocket.OPEN?n.webSocket.send(t):console.log("WebSocket instance wasn't ready...")},3)},onLoad:function(){this._super();var e=this;cc.director.getCollisionManager().enabled=!1,this.remoteUINode=new cc.Node,this.node.addChild(this.remoteUINode,10),this.remoteUIAddress=i.addScriptNode(this.remoteUINode,"cc.Label",10),i.setGroup(this.remoteUIAddress,s.GroupIndex.UI),this.remoteUIAddress.node.anchorX=0,this.remoteUIAddress.node.anchorY=1,this.remoteUIAddress.node.x=0,this.remoteUIAddress.node.y=0,this.remoteUIAddress.node.width=150,this.remoteUIAddress.node.height=30,this.remoteUIAddress.node.color=new cc.Color(255,255,255),this.remoteUIAddress.fontSize=20,this.remoteUIAddress.horizontalAlign=cc.Label.HorizontalAlign.LEFT,this.remoteUIAddress.verticalAlign=cc.Label.VerticalAlign.TOP,this.remoteUIAddress.string="testAddress",this.respawnButton.o0ClickEvent.push(function(){e.generatePlayerSnake()})},start:function(){this._super();var e=this;this.webSocket=new WebSocket("ws://"+this.remoteUIAddress.string),this.webSocket.onopen=function(t){e.generatePlayerSnake(),console.log("Send Text WS was opened.")},this.webSocket.onmessage=function(t){null!=e.node&&e.node.isValid&&e.processData(t)},this.webSocket.onerror=function(e){console.log("Send Text fired an error")},this.webSocket.onclose=function(t){e.webSocket=null,null!=e.node&&e.node.destroy(),console.log("WebSocket instance closed.")},this.generatePlayerSnake()},update:function(e){var t;if(this._super(),this.remoteUINode.x=-this.canvas.node.width/2+10,this.remoteUINode.y=this.canvas.node.height/2-10,t=this.isHost?new cc.Color(255,255,255):new cc.Color(0,255,0),this.remoteUIAddress.node.color=t,null!=this.webSocket)if(this.isHost){var n=[];for(var o in this.connectionIdToSnakeId)n[this.connectionIdToSnakeId[o]]=o;for(var i=new Array,s=0;s<this.snakeNode.childrenCount;++s)if(null!=this.snakeNode.children[s]&&0!=this.snakeNode.children[s].isValid){var a,r=this.snakeNode.children[s].getComponent("Snake");if(null!=r)null==n[this.snakeNode.children[s].name]?a={id:this.snakeNode.children[s].name,name:r.name,score:r.score,position:{x:r.body[0].x,y:r.body[0].y},rotation:r.body[0].rotation,skin:r.skin}:(a={id:this.snakeNode.children[s].name,cid:n[this.snakeNode.children[s].name],name:r.name,score:r.score,position:{x:r.body[0].x,y:r.body[0].y},rotation:r.body[0].rotation,skin:r.skin},delete n[this.snakeNode.children[s].name]),i.push(a)}for(var o in n)delete this.connectionIdToSnakeId[n[o]];var c=new Array;for(s=0;s<this.foodNode.childrenCount;++s)if(null!=this.foodNode.children[s]&&0!=this.foodNode.children[s].isValid){var h=this.foodNode.children[s].getComponent("Food");null!=h&&c.push({id:this.foodNode.children[s].name,score:h.score,position:{x:h.node.x,y:h.node.y}})}this.send({snake:i,food:c})}else if(null!=this.playerSnake&&null!=this.playerSnake.node){var d=this.playerSnake.body[0].getComponent("LocalControl"),l={vector:d.targetVector,speeding:d.isSpeeding};this.send(l)}this.isHost&&this.generateAISnake()},_onPreDestroy:function(){this._super(),null!=this.webSocket&&(this.webSocket.close(),this.webSocket=null)}}),cc._RF.pop()},{GameScene:"GameScene",o0:"o0",o0CC:"o0CC",o0Game:"o0Game"}],RemoteSnake:[function(e,t,n){"use strict";cc._RF.push(t,"e83d6SRj6tBQozEKzhnxnlW","RemoteSnake");e("o0"),e("o0CC"),e("o0Game");cc.Class({extends:e("Snake"),properties:{}}),cc._RF.pop()},{Snake:"Snake",o0:"o0",o0CC:"o0CC",o0Game:"o0Game"}],ServerGameScene:[function(e,t,n){"use strict";cc._RF.push(t,"76cfeThwa9Cp7mDrUElV/z4","ServerGameScene");e("o0");var o=e("o0CC"),i=e("o0Game");cc.Class({extends:e("LocalGameScene"),properties:{serverUINode:null,serverUIPortBox:null,serverUIHostButton:null,serverIO:null},onLoad:function(){this._super();this.serverUINode=new cc.Node,this.node.addChild(this.serverUINode,10),this.serverUIPortBox=o.addScriptNode(this.serverUINode,"o0CCEditBox",10),o.setGroup(this.serverUIPortBox,i.GroupIndex.UI),this.serverUIPortBox.node.anchorX=0,this.serverUIPortBox.node.anchorY=1,this.serverUIPortBox.node.x=0,this.serverUIPortBox.node.y=0,this.serverUIPortBox.node.width=60,this.serverUIPortBox.node.height=30,this.serverUIPortBox.maxLength=5,this.serverUIPortBox.string="6666",this.serverUIHostButton=o.addScriptNode(this.serverUINode,"o0CCButton",10),o.setGroup(this.serverUIHostButton,i.GroupIndex.UI),this.serverUIHostButton.node.anchorX=0,this.serverUIHostButton.node.anchorY=1,this.serverUIHostButton.node.x=60,this.serverUIHostButton.node.y=0,this.serverUIHostButton.node.width=60,this.serverUIHostButton.node.height=30,this.serverUIHostButton.name="Host",this.serverUIHostButton.node.on(cc.Node.EventType.MOUSE_UP,function(e){},this.serverUIHostButton)},update:function(e){this._super(),this.serverUINode.x=-this.canvas.node.width/2+10,this.serverUINode.y=this.canvas.node.height/2-10}}),cc._RF.pop()},{LocalGameScene:"LocalGameScene",o0:"o0",o0CC:"o0CC",o0Game:"o0Game"}],SkinSampleControl:[function(e,t,n){"use strict";cc._RF.push(t,"92716Ba7rxJSJHC3JJpqwQp","SkinSampleControl");e("o0"),e("o0CC"),e("o0Game");cc.Class({extends:e("LocalControl"),properties:{targetPosition:null},start:function(){},update:function(e){this._super();for(var t=this.targetPosition.minus(this.snake.head),n=0;n<this.snake.body.length;++n)this.snake.body[n].x+=t.x,this.snake.body[n].y+=t.y}}),cc._RF.pop()},{LocalControl:"LocalControl",o0:"o0",o0CC:"o0CC",o0Game:"o0Game"}],SkinSampleSnake:[function(e,t,n){"use strict";cc._RF.push(t,"c9acfPSgqdB45mus0AHDb2R","SkinSampleSnake");e("o0");var o=e("o0CC"),i=e("o0Game");cc.Class({extends:e("Snake"),addSkin:function(e){if(null==this.skin)this.skin=[],this.skin.push(e);else{if(this.skin.length>=20)return;this.skin.push(e),this.addBody()}var t=this.body[this.body.length-1].getComponent(cc.Sprite);cc.loader.loadRes("snake/"+e,cc.SpriteFrame,function(e,n){t.spriteFrame=n})},clearSkin:function(){this.skin=null,this.removeAllBody(),this.body[0].getComponent(cc.Sprite).spriteFrame=null},addHead:function(){this.head=new cc.Node("head"),this.body.push(this.head),this.head.parent=this.node,this.head.rotation=360*Math.random();var e=this.body[this.body.length-1].addComponent(cc.Sprite,0);e.trim=!0,e.type=cc.Sprite.Type.SLICED,e.sizeMode=cc.Sprite.SizeMode.CUSTOM,e.SrcBlendFactor=cc.macro.BlendFactor.SRC_ALPHA,e.DstBlendFactor=cc.macro.BlendFactor.ONE_MINUS_SRC_ALPHA,o.setGroup(e,i.GroupIndex.UI),e.node.width=this.size,e.node.height=this.size;var t=new cc.Node;t.parent=this.head;this.addEyeGraphic(t)},addBody:function(){if(0!=this.node.active){var e=this.body.length;this.body.push(new cc.Node("body"+e)),this.node.addChild(this.body[e],-e),this.body[e].x=this.body[e-1].x,this.body[e].y=this.body[e-1].y,this.body[e].rotation=this.body[e-1].rotation,this.body[e].addComponent("cc.CircleCollider").radius=this.radius;var t=this.body[this.body.length-1].addComponent(cc.Sprite,0);t.trim=!0,t.type=cc.Sprite.Type.SLICED,t.sizeMode=cc.Sprite.SizeMode.CUSTOM,t.SrcBlendFactor=cc.macro.BlendFactor.SRC_ALPHA,t.DstBlendFactor=cc.macro.BlendFactor.ONE_MINUS_SRC_ALPHA,o.setGroup(t,i.GroupIndex.UI),t.node.width=this.size,t.node.height=this.size}},start:function(){}}),cc._RF.pop()},{Snake:"Snake",o0:"o0",o0CC:"o0CC",o0Game:"o0Game"}],SnakeAIInput:[function(e,t,n){"use strict";cc._RF.push(t,"321b2/hCD5BhpCCq8VYc/kB","SnakeAIInput");var o=e("o0"),i=(e("o0CC"),e("o0Game"));cc.Class({extends:e("SnakePositionInput"),properties:{viewRate:10,patientTimer:null,targetFoodNode:null},onLoad:function(){this._super(),this.setControllByPosition(!0),this.patientTimer=new o.Timer(3)},update:function(e){null!=this.control&&null!=this.control.snake&&(this.radius=this.control.snake.radius*this.viewRate,(null==this.targetFoodNode||this.patientTimer.tryNextTiming())&&(this.setTargetPosition(new o.Vector2(0,0)),this.targetFoodNode=null),this._super())},onCollisionStay:function(e,t){null!=e.node&&0!=e.node.active&&null!=this.node&&0!=this.node.active&&null==this.targetFoodNode&&e.node.groupIndex==i.GroupIndex.Food&&(this.targetFoodNode=e.node,this.setTargetPosition(new o.Vector2(this.targetFoodNode)),this.patientTimer.nextTiming())}}),cc._RF.pop()},{SnakePositionInput:"SnakePositionInput",o0:"o0",o0CC:"o0CC",o0Game:"o0Game"}],SnakeAccelerometerInput:[function(e,t,n){"use strict";cc._RF.push(t,"3f22dM+1nVCgqPx8X6iJ0m2","SnakeAccelerometerInput");var o=e("o0");e("o0CC"),e("o0Game");cc.Class({extends:e("SnakeDirectionInput"),properties:{},onDeviceMotionEvent:function(e){this.setTargetVector(new o.Vector2(e.acc).mod)},onLoad:function(){this._super();var e=this,t={event:cc.EventListener.TOUCH_ONE_BY_ONE,onTouchBegan:function(t,n){return e.setTargetSpeeding(!0),!0},onTouchMoved:function(e,t){return!0},onTouchEnded:function(t,n){return e.setTargetSpeeding(!1),!0}};cc.eventManager.addListener(t,this.node),cc.systemEvent.setAccelerometerEnabled(!0),cc.systemEvent.on(cc.SystemEvent.EventType.DEVICEMOTION,this.onDeviceMotionEvent,this)},start:function(e){},update:function(e){},onDestroy:function(){cc.systemEvent.off(cc.SystemEvent.EventType.DEVICEMOTION,this.onDeviceMotionEvent,this)}}),cc._RF.pop()},{SnakeDirectionInput:"SnakeDirectionInput",o0:"o0",o0CC:"o0CC",o0Game:"o0Game"}],SnakeDirectionInput:[function(e,t,n){"use strict";cc._RF.push(t,"18b9bGF3adBJJWYtzIxfR7I","SnakeDirectionInput");e("o0"),e("o0CC");cc.Class({extends:cc.CircleCollider,properties:{control:null},setTargetSpeeding:function(e){null!=this.control&&this.control.setTargetSpeeding(e)},setTargetVector:function(e){null!=this.control&&this.control.setTargetVector(e)},removeTargetVector:function(e){null!=this.control&&this.control.removeTargetVector(e)},onLoad:function(){this.control=this.node.getComponent("LocalControl")},update:function(e){null!=this.node&&0!=this.node.isValid||cc.log("Memory leak: Input")}}),cc._RF.pop()},{o0:"o0",o0CC:"o0CC"}],SnakeJoystickInput:[function(e,t,n){"use strict";cc._RF.push(t,"490c9r3dp5MSJvflJi3SoBw","SnakeJoystickInput");var o=e("o0"),i=e("o0CC"),s=e("o0Game");cc.Class({extends:e("SnakeDirectionInput"),properties:{touchLocation:null,moveLocation:null,speedingButton:null},onLoad:function(){this._super();var e=this;this.speedingButton=i.addScriptNode(this.control.snake.node,"o0CCButton",10),i.setGroup(this.speedingButton,s.GroupIndex.UI),this.speedingButton.node.x=this.control.snake.gameScene.canvas.node.width/2-150,this.speedingButton.node.y=0,this.speedingButton.node.width=80,this.speedingButton.node.height=80,this.speedingButton.name="Boost",this.speedingButton.node.on(cc.Node.EventType.TOUCH_START,function(t){e.setTargetSpeeding(!0)},this),this.speedingButton.node.on(cc.Node.EventType.TOUCH_END,function(t){e.setTargetSpeeding(!1)},this);var t=i.addScriptNode(this.control.snake.node,cc.Graphics,9);i.setGroup(t,s.GroupIndex.UI),t.clear(),t.circle(0,0,25),t.fillColor=new cc.Color(255,255,255,200),t.fill(),t.node.x=-this.control.snake.gameScene.canvas.node.width/2+200,t.node.y=-this.control.snake.gameScene.canvas.node.height/2+200;var n=i.addScriptNode(this.control.snake.node,cc.Graphics,10);i.setGroup(n,s.GroupIndex.UI),n.clear(),n.circle(0,0,20),n.fillColor=new cc.Color(255,255,255,150),n.fill(),n.node.x=-this.control.snake.gameScene.canvas.node.width/2+200,n.node.y=-this.control.snake.gameScene.canvas.node.height/2+200,this.touchLocation=new o.Vector2(1,0);var a={event:cc.EventListener.TOUCH_ONE_BY_ONE,onTouchBegan:function(n,o){if(null==e.control)return!1;e.touchLocation=n.getLocation();var i=e.control.snake.node.parent.convertToNodeSpaceAR(e.touchLocation);return t.node.active=!0,t.node.x=i.x,t.node.y=i.y,!0},onTouchMoved:function(i,s){if(null==e.control)return!1;e.moveLocation=i.getLocation();var a=e.control.snake.node.parent.convertToNodeSpaceAR(e.touchLocation),r=e.control.snake.node.parent.convertToNodeSpaceAR(e.moveLocation),c=new o.Vector2(r).minus(a);return c.length>35&&(c=c.toLength(35)),n.node.active=!0,n.node.x=t.node.x+c.x,n.node.y=t.node.y+c.y,!0},onTouchEnded:function(o,i){return e.touchLocation=null,null!=t.node&&(t.node.active=!1),null!=n.node&&(n.node.active=!1),!0}};cc.eventManager.addListener(a,this.node)},start:function(e){},update:function(e){if(this._super(),null!=this.touchLocation&&null!=this.moveLocation){var t=this.node.parent.convertToNodeSpaceAR(this.touchLocation),n=this.node.parent.convertToNodeSpaceAR(this.moveLocation);this.setTargetVector(new o.Vector2(n).minus(t).mod)}}}),cc._RF.pop()},{SnakeDirectionInput:"SnakeDirectionInput",o0:"o0",o0CC:"o0CC",o0Game:"o0Game"}],SnakeKeyboardArrowkeyInput:[function(e,t,n){"use strict";cc._RF.push(t,"7dfd5magJ5BabfAM4i7ZdFF","SnakeKeyboardArrowkeyInput");var o=e("o0");e("o0CC");cc.Class({extends:e("SnakeDirectionInput"),properties:{keyDirection:null,key:null,speedingKey:0},onLoad:function(){this._super(),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this),this.keyDirection=new Array,this.keyDirection[cc.macro.KEY.right]=new o.Vector2(1,0),this.keyDirection[cc.macro.KEY.left]=new o.Vector2(-1,0),this.keyDirection[cc.macro.KEY.up]=new o.Vector2(0,1),this.keyDirection[cc.macro.KEY.down]=new o.Vector2(0,-1),this.keyDirection[cc.macro.KEY.d]=new o.Vector2(1,0),this.keyDirection[cc.macro.KEY.a]=new o.Vector2(-1,0),this.keyDirection[cc.macro.KEY.w]=new o.Vector2(0,1),this.keyDirection[cc.macro.KEY.s]=new o.Vector2(0,-1),this.key=new Array,this.speedingKey=cc.macro.KEY.space},onDestroy:function(){cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this)},update:function(e){var t=new o.Vector2(0,0);for(var n in this.keyDirection)1==this.key[n]&&(t=t.plus(this.keyDirection[n]));0!=this.keyDirection.length&&0!=t.length?this.setTargetVector(t.mod):this.removeTargetVector(),this._super()},onKeyDown:function(e){null!=this.keyDirection[e.keyCode]&&(this.key[e.keyCode]=!0),e.keyCode==this.speedingKey&&this.setTargetSpeeding(!0)},onKeyUp:function(e){null!=this.keyDirection[e.keyCode]&&(this.key[e.keyCode]=!1),e.keyCode==this.speedingKey&&this.setTargetSpeeding(!1)}}),cc._RF.pop()},{SnakeDirectionInput:"SnakeDirectionInput",o0:"o0",o0CC:"o0CC"}],SnakeKeyboardSteeringInput:[function(e,t,n){"use strict";cc._RF.push(t,"1bff4nKgu9BR6nJakf+ECzy","SnakeKeyboardSteeringInput");e("o0"),e("o0CC");cc.Class({extends:e("SnakeSteeringControl"),properties:{keyTurning:null,key:null,speedingKey:0},onLoad:function(){this._super(),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this),this.keyTurning=new Array,this.keyTurning[cc.macro.KEY.right]=90,this.keyTurning[cc.macro.KEY.left]=-90,this.keyTurning[cc.macro.KEY.d]=90,this.keyTurning[cc.macro.KEY.a]=-90,this.key=new Array,this.speedingKey=cc.macro.KEY.space},onDestroy:function(){cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this)},update:function(e){var t=0;for(var n in this.keyTurning)1==this.key[n]&&(t+=this.keyTurning[n]);this.setTargetTurning(t),this._super()},onKeyDown:function(e){null!=this.keyTurning[e.keyCode]&&(this.key[e.keyCode]=!0),e.keyCode==this.speedingKey&&this.setTargetSpeeding(!0)},onKeyUp:function(e){null!=this.keyTurning[e.keyCode]&&(this.key[e.keyCode]=!1),e.keyCode==this.speedingKey&&this.setTargetSpeeding(!1)}}),cc._RF.pop()},{SnakeSteeringControl:"SnakeSteeringControl",o0:"o0",o0CC:"o0CC"}],SnakeMouseInput:[function(e,t,n){"use strict";cc._RF.push(t,"b6b43R6rXxKmbARziIByDgg","SnakeMouseInput");var o=e("o0");e("o0CC");cc.Class({extends:e("SnakeDirectionInput"),properties:{mouseLocation:null},onLoad:function(){this._super();var e=this;this.mouseLocation=new o.Vector2(1,0);var t={event:cc.EventListener.MOUSE,onMouseDown:function(t){e.setTargetSpeeding(!0)},onMouseUp:function(t){e.setTargetSpeeding(!1)},onMouseMove:function(t){e.mouseLocation=t.getLocation()},onMouseScroll:function(e){}};cc.eventManager.addListener(t,this.node)},update:function(e){this._super();var t=this.node.parent.convertToNodeSpaceAR(this.mouseLocation);this.setTargetVector(new o.Vector2(t).mod)}}),cc._RF.pop()},{SnakeDirectionInput:"SnakeDirectionInput",o0:"o0",o0CC:"o0CC"}],SnakePositionInput:[function(e,t,n){"use strict";cc._RF.push(t,"63004hJuFlE7Zzz6IwZWtMA","SnakePositionInput");var o=e("o0");e("o0CC");cc.Class({extends:e("SnakeDirectionInput"),properties:{targetPosition:null,controllByPosition:!0},setTargetPosition:function(e){this.targetPosition=e},setControllByPosition:function(e){this.controllByPosition=e},onLoad:function(){this.targetPosition=new o.Vector2(1,0),this._super()},update:function(e){this.controllByPosition&&this.setTargetVector(this.targetPosition.minus(this.node).mod),this._super()}}),cc._RF.pop()},{SnakeDirectionInput:"SnakeDirectionInput",o0:"o0",o0CC:"o0CC"}],SnakeSteeringControl:[function(e,t,n){"use strict";cc._RF.push(t,"6c273f/F5NMqqHtyB0cpaZm","SnakeSteeringControl");e("o0");var o=e("o0CC");cc.Class({extends:e("SnakeDirectionInput"),properties:{targetTurning:0},setTargetTurning:function(e){this.targetTurning=e},onLoad:function(){this._super()},update:function(e){this.control.setTargetVector(o.vectorFromRotation(this.control.snake.head.rotation+this.targetTurning)),this._super()}}),cc._RF.pop()},{SnakeDirectionInput:"SnakeDirectionInput",o0:"o0",o0CC:"o0CC"}],SnakeTouchInput:[function(e,t,n){"use strict";cc._RF.push(t,"69c5bcWU7dAB5hv0xapjMOS","SnakeTouchInput");var o=e("o0"),i=e("o0CC"),s=e("o0Game");cc.Class({extends:e("SnakeDirectionInput"),properties:{touchLocation:null,speedingButton:null},onLoad:function(){this._super();var e=this;this.speedingButton=i.addScriptNode(this.control.snake.node,"o0CCButton",10),i.setGroup(this.speedingButton,s.GroupIndex.UI),this.speedingButton.node.x=this.control.snake.gameScene.canvas.node.width/2-150,this.speedingButton.node.y=0,this.speedingButton.node.width=80,this.speedingButton.node.height=80,this.speedingButton.name="Boost",this.speedingButton.node.on(cc.Node.EventType.TOUCH_START,function(t){e.setTargetSpeeding(!0)},this),this.speedingButton.node.on(cc.Node.EventType.TOUCH_END,function(t){e.setTargetSpeeding(!1)},this),this.touchLocation=new o.Vector2(1,0);var t={event:cc.EventListener.TOUCH_ONE_BY_ONE,onTouchBegan:function(t,n){return e.touchLocation=t.getLocation(),!0},onTouchMoved:function(t,n){return e.touchLocation=t.getLocation(),!0},onTouchEnded:function(t,n){return e.touchLocation=t.getLocation(),!0}};cc.eventManager.addListener(t,this.node)},start:function(e){},update:function(e){this._super();var t=this.node.parent.convertToNodeSpaceAR(this.touchLocation);this.setTargetVector(new o.Vector2(t).mod)}}),cc._RF.pop()},{SnakeDirectionInput:"SnakeDirectionInput",o0:"o0",o0CC:"o0CC",o0Game:"o0Game"}],Snake:[function(e,t,n){"use strict";cc._RF.push(t,"c1ad1IhihRLBrWWB03nqOLd","Snake");e("o0");var o=e("o0CC"),i=e("o0Game");cc.Class({extends:cc.CircleCollider,properties:{gameScene:null,head:null,body:[cc.Node],size:40,score:0,color:null,bodyLength:{get:function(){return this.score/Math.pow(this.body[0].scaleX*this.body[0].scaleY,1.5)}},skin:null,nameLabel:null},setScore:function(e){this.score=e,this.updateScale();for(var t=Math.ceil(this.bodyLength);t>this.body.length;)this.addBody();for(;t<this.body.length&&this.body.length>1;)this.removeBody()},updateScale:function(){for(var e=Math.pow(1+(this.score-10)/50,1/3),t=0;t<this.body.length;++t)this.body[t].scaleX=e,this.body[t].scaleY=e},addEyeGraphic:function(e){var t=e.addComponent(cc.Graphics,10);return t.clear(),t.circle(12,10,10),t.circle(12,-10,-10),t.fillColor=cc.Color.WHITE,t.fill(),t.circle(13,9,6),t.circle(13,-9,6),t.fillColor=cc.Color.BLACK,t.fill(),t},addGraphic:function(e){var t=e.addComponent(cc.Graphics);return t.clear(),t.circle(0,0,this.radius),t.fillColor=cc.Color.YELLOW,t.fill(),t.circle(15,0,5),t.fillColor=cc.Color.RED,t.fill(),t},addGraphic2:function(e){var t=e.addComponent(cc.Graphics);t.clear(),t.circle(0,0,this.radius),t.fillColor=cc.Color.YELLOW,t.fill(),t.circle(-15,0,5),t.fillColor=cc.Color.GRAY,t.fill()},addHead:function(){this.head=new cc.Node("head"),this.body.push(this.head),this.head.parent=this.node,this.head.rotation=360*Math.random();var e=new cc.Node;e.parent=this.head,e.zIndex=3;this.addEyeGraphic(e);this.nameLabel=o.addScriptNode(this.head,"cc.Label",20),this.nameLabel.horizontalAlign=cc.Label.HorizontalAlign.CENTER,this.nameLabel.verticalAlign=cc.Label.VerticalAlign.TOP,this.nameLabel.node.color=new cc.Color(255,255,255),this.nameLabel.node.anchorX=0,this.nameLabel.node.anchorY=0,this.nameLabel.node.x=0,this.nameLabel.node.y=0,this.nameLabel.node.height=300,this.nameLabel.fontSize=20,this.nameLabel.node.anchorX=.5,this.nameLabel.node.anchorY=.5;var t=this.head.addComponent("cc.Graphics");o.setGroup(t,i.GroupIndex.Head)},addBody:function(){if(0!=this.node.active){var e=this.body.length;this.body.push(new cc.Node("body"+e)),this.node.addChild(this.body[e],-e),this.body[e].x=this.body[e-1].x,this.body[e].y=this.body[e-1].y,this.body[e].rotation=this.body[e-1].rotation,this.body[e].addComponent("cc.CircleCollider").radius=this.radius;var t=o.addScriptNode(this.body[this.body.length-1],"cc.Sprite",2);t.trim=!0,t.type=cc.Sprite.Type.SLICED,t.sizeMode=cc.Sprite.SizeMode.CUSTOM,t.SrcBlendFactor=cc.macro.BlendFactor.SRC_ALPHA,t.DstBlendFactor=cc.macro.BlendFactor.ONE_MINUS_SRC_ALPHA,t.node.width=this.size,t.node.height=this.size,cc.loader.loadRes("snake/"+this.skin[(this.body.length-1)%this.skin.length],cc.SpriteFrame,function(e,n){t.spriteFrame=n});var n=this.body[e].addComponent("cc.Graphics");o.setGroup(n,i.GroupIndex.Body)}},removeBody:function(){1!=this.body.length&&(this.body[this.body.length-1].destroy(),this.body.pop())},removeAllBody:function(){for(;this.body.length>1;)this.removeBody()},onLoad:function(){this.radius=20,this.color=o.randomBrightColor(),this.addHead()},start:function(){var e=o.addScriptNode(this.head,cc.Sprite,1);e.trim=!0,e.type=cc.Sprite.Type.SLICED,e.sizeMode=cc.Sprite.SizeMode.CUSTOM,e.SrcBlendFactor=cc.macro.BlendFactor.SRC_ALPHA,e.DstBlendFactor=cc.macro.BlendFactor.ONE_MINUS_SRC_ALPHA,e.node.width=this.size,e.node.height=this.size,cc.loader.loadRes("snake/"+this.skin[0],cc.SpriteFrame,function(t,n){e.spriteFrame=n})},lateUpdate:function(){null!=this.nameLabel&&(null!=this.nameLabel.string&&""!=this.nameLabel.string||(this.nameLabel.string=this.name+"\n\n"),this.nameLabel.node.rotation=-this.head.rotation)},_onPreDestroy:function(){}}),cc._RF.pop()},{o0:"o0",o0CC:"o0CC",o0Game:"o0Game"}],anyADs:[function(e,t,n){"use strict";cc._RF.push(t,"e21eaoSCVRKFI0ZqS4AKAJm","anyADs"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,s=o.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.TXT=null,t.Btn=null,t}return __extends(t,e),t.prototype.btnClick=function(e,t){cc.director.loadScene("SlitherIO")},t.prototype.ADTest=function(e){"undefined"!=typeof anysdk?(this.TXT.string="anysdk",letads_plugin=anysdk.agentManager,"undefined"!=typeof ads_plugin?(this.TXT.string="ads_plugin",letads=ads_plugin.getAdsPlugin(),"undefined"!=typeof ads?(this.TXT.string="ads",ads&&ads.isAdTypeSupported(anysdk.AdsType.AD_TYPE_FULLSCREEN)&&ads.showAds(anysdk.AdsType.AD_TYPE_FULLSCREEN),ads.setListener(this.onAdsResult,this)):this.TXT.string="ads underfined"):this.TXT.string="ads_plugin undefined"):this.TXT.string="anysdk undefined"},t.prototype.start=function(){},__decorate([s(cc.Label)],t.prototype,"TXT",void 0),__decorate([s(cc.Node)],t.prototype,"Btn",void 0),t=__decorate([i],t)}(cc.Component);n.default=a,cc._RF.pop()},{}],o0CCButtonNoImage:[function(e,t,n){"use strict";cc._RF.push(t,"50d519mVlxPKLRqkNtrtQca","o0CCButtonNoImage");e("o0");var o=e("o0CC");e("o0Game");cc.Class({extends:cc.Sprite,properties:{button:null,sprite:null,label:null,o0ClickEvent:[]},o0OnClick:function(){for(var e=0;e<this.o0ClickEvent.length;++e)this.o0ClickEvent[e]()},onLoad:function(){this.sprite=this;this.sprite.trim=!0,this.sprite.type=cc.Sprite.Type.SLICED,this.sprite.sizeMode=cc.Sprite.SizeMode.CUSTOM,this.sprite.SrcBlendFactor=cc.macro.BlendFactor.SRC_ALPHA,this.sprite.DstBlendFactor=cc.macro.BlendFactor.ONE_MINUS_SRC_ALPHA,this.button=this.node.addComponent("cc.Button"),this.button.target=this.node,this.button.interactable=!0,this.button.duration=.1,this.button.transition=cc.Button.Transition.COLOR,this.button.normalColor=new cc.Color(200,200,200,255),this.button.pressedColor=new cc.Color(100,100,100,255),this.button.hoverColor=new cc.Color(150,150,150,255),this.button.disabledColor=new cc.Color(50,50,50,255);var e=new cc.Component.EventHandler;e.target=this.node,e.component="o0CCButtonNoImage",e.handler="o0OnClick",e.emit([]),this.button.clickEvents.push(e),this.label=o.addScriptNode(this.node,"cc.Label",0),this.label.horizontalAlign=cc.Label.HorizontalAlign.CENTER,this.label.verticalAlign=cc.Label.VerticalAlign.CENTER,this.label.overflow=cc.Label.Overflow.SHRINK,this.label.node.color=new cc.Color(0,0,0),this.label.enableWrapText=!1},update:function(e){this.label.node.anchorX=this.node.anchorX,this.label.node.anchorY=this.node.anchorY,this.label.node.x=0,this.label.node.y=0,this.label.node.width=this.node.width-5,this.label.node.height=this.node.height,this.label.fontSize=this.node.height-15,this.label.string=this.name}}),cc._RF.pop()},{o0:"o0",o0CC:"o0CC",o0Game:"o0Game"}],o0CCButton:[function(e,t,n){"use strict";cc._RF.push(t,"7ab63PkGoBAZZ7Dd7fyy3b7","o0CCButton");e("o0");var o=e("o0CC");e("o0Game");cc.Class({extends:cc.Sprite,properties:{button:null,sprite:null,label:null,o0ClickEvent:[]},o0OnClick:function(){for(var e=0;e<this.o0ClickEvent.length;++e)this.o0ClickEvent[e]()},onLoad:function(){this.sprite=this;var e=this;cc.loader.loadRes("button",cc.SpriteFrame,function(t,n){e.sprite.spriteFrame=n}),this.sprite.trim=!0,this.sprite.type=cc.Sprite.Type.SLICED,this.sprite.sizeMode=cc.Sprite.SizeMode.CUSTOM,this.sprite.SrcBlendFactor=cc.macro.BlendFactor.SRC_ALPHA,this.sprite.DstBlendFactor=cc.macro.BlendFactor.ONE_MINUS_SRC_ALPHA,this.button=this.node.addComponent("cc.Button"),this.button.target=this.node,this.button.interactable=!0,this.button.duration=.1,this.button.transition=cc.Button.Transition.COLOR,this.button.normalColor=new cc.Color(200,200,200,255),this.button.pressedColor=new cc.Color(100,100,100,255),this.button.hoverColor=new cc.Color(150,150,150,255),this.button.disabledColor=new cc.Color(50,50,50,255);var t=new cc.Component.EventHandler;t.target=this.node,t.component="o0CCButton",t.handler="o0OnClick",t.emit([]),this.button.clickEvents.push(t),this.label=o.addScriptNode(this.node,"cc.Label",0),this.label.horizontalAlign=cc.Label.HorizontalAlign.CENTER,this.label.verticalAlign=cc.Label.VerticalAlign.CENTER,this.label.overflow=cc.Label.Overflow.SHRINK,this.label.node.color=new cc.Color(0,0,0),this.label.enableWrapText=!1},update:function(e){this.label.node.anchorX=this.node.anchorX,this.label.node.anchorY=this.node.anchorY,this.label.node.x=0,this.label.node.y=0,this.label.node.width=this.node.width-5,this.label.node.height=this.node.height,this.label.fontSize=this.node.height-15,this.label.string=this.name}}),cc._RF.pop()},{o0:"o0",o0CC:"o0CC",o0Game:"o0Game"}],o0CCEditBox:[function(e,t,n){"use strict";cc._RF.push(t,"0d700ZoEhlLOonR8pYJjNCW","o0CCEditBox");e("o0");var o=e("o0CC");e("o0Game");cc.Class({extends:cc.EditBox,properties:{background:null,label:null},onLoad:function(){var e=this;cc.loader.loadRes("editbox",cc.SpriteFrame,function(t,n){e.backgroundImage=n}),this.background=o.addScriptNode(this.node,"cc.Graphics",0),this.fontColor=new cc.color(255,255,255),this.label=o.addScriptNode(this.node,"cc.Label",2),this.label.horizontalAlign=cc.Label.HorizontalAlign.CENTER,this.label.verticalAlign=cc.Label.VerticalAlign.CENTER,this.label.overflow=cc.Label.Overflow.SHRINK,this.label.color=new cc.Color(255,255,255),this.label.enableWrapText=!1,this.label.node.active=!1,this.background.enabled=!1},update:function(e){this.background.clear(),this.background.roundRect(this.node.width*-this.node.anchorX,this.node.height*-this.node.anchorY,this.node.width,this.node.height,3),this.background.fillColor=new cc.Color(50,50,50,250),this.background.fill(),this.background.roundRect(this.node.width*-this.node.anchorX,this.node.height*-this.node.anchorY,this.node.width,this.node.height,3),this.background.strokeColor=new cc.Color(255,255,255,155),this.background.stroke(),this.label.node.anchorX=this.node.anchorX,this.label.node.anchorY=this.node.anchorY,this.label.node.x=0,this.label.node.y=0,this.label.node.width=this.node.width-5,this.label.node.height=this.node.height,this.label.fontSize=this.node.height-15,this.label.string=this.string}}),cc._RF.pop()},{o0:"o0",o0CC:"o0CC",o0Game:"o0Game"}],o0CCLabel:[function(e,t,n){"use strict";cc._RF.push(t,"44e79V4erNPb7aRjvVc/VQL","o0CCLabel");e("o0"),e("o0CC"),e("o0Game");cc.Class({extends:cc.Label,properties:{label:null},onLoad:function(){this.label=this,this.label.horizontalAlign=cc.Label.HorizontalAlign.CENTER,this.label.verticalAlign=cc.Label.VerticalAlign.CENTER,this.label.overflow=cc.Label.Overflow.SHRINK,this.label.color=new cc.Color(255,255,255),this.label.enableWrapText=!1},update:function(e){this.label.fontSize=this.node.height-15}}),cc._RF.pop()},{o0:"o0",o0CC:"o0CC",o0Game:"o0Game"}],o0CC:[function(e,t,n){"use strict";cc._RF.push(t,"ef7dcYGobxPGbkGDp7Uo9+T","o0CC");var o=e("o0");t.exports={addScriptNode:function(e,t){var n;switch(arguments.length){default:case 2:n=0;break;case 3:n=arguments[2]}var o=new cc.Node,i=o.addComponent(t);return e.addChild(o,n),i},addSpriteNode:function(e,t){var n;switch(arguments.length){default:case 2:n=0;break;case 3:n=arguments[2]}var o=new cc.Node;e.addChild(o,n);var i=o.addComponent(cc.Sprite);return cc.loader.loadRes(t,cc.SpriteFrame,function(e,t){i.spriteFrame=t}),i},addGraphicNode:function(e){var t;switch(arguments.length){default:case 1:t=0;break;case 2:t=arguments[1]}var n=new cc.Node;return e.addChild(n,t),n.addComponent(cc.Graphics)},rotationFromVector:function(e){var t=e.angle(new o.Vector2(1,0));return e.y>0&&(t=360-t),t},vectorFromRotation:function(e){var t=e/180*Math.PI;return e<90?new o.Vector2(Math.cos(t),-Math.sin(t)):e<180?(t=Math.PI-t,new o.Vector2(-Math.cos(t),-Math.sin(t))):e<270?(t-=Math.PI,new o.Vector2(-Math.cos(t),Math.sin(t))):(t=2*Math.PI-t,new o.Vector2(Math.cos(t),Math.sin(t)))},nextRotation:function(e,t,n){var o=e-t;return Math.abs(o)<=n||Math.abs(o+360)<=n||Math.abs(o-360)<=n?e=t:o>0&&o<180||o>-360&&o<-180?e-=n:e+=n,e>=360&&(e-=360),e<0&&(e+=360),e},setGroup:function(e,t){e.node.groupIndex!=t&&(e.node.active=!1,e.scheduleOnce(function(){null!=e&&null!=e.node&&(e.node.groupIndex=t,e.node.active=!0)},.1))},randomBrightColor:function(){var e=new cc.Color(255*Math.random(),255*Math.random(),255*Math.random(),255),t=255/Math.max(e.getR(),e.getG(),e.getB(),e.getA());return new cc.Color(e.getR()*t,e.getG()*t,e.getB()*t,255)}},cc._RF.pop()},{o0:"o0"}],o0Game:[function(e,t,n){"use strict";cc._RF.push(t,"3ae883we4NBLZXo5ebCQiAe","o0Game");var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=e("o0"),a=e("o0CC"),r={Default:0,Food:1,Head:2,Body:3,PlayGround:4,UI:5},c=function(){function e(t){i(this,e),this.script=t,this.speed=1,this.turningSpeed=2,this.normalSpeedRate=1,this.speedingSpeedRate=3,this.targetSpeedRate=1,this.targetVector=null,this.bodySpacingRate=.3,this.bodySpacing=0,this.pulledScore=0,this.pullScoreRate=.7,this.speedingScoreCost=.02,this.minScore=5,this.addScore(10),this.script.updateScale(),this.updateBodySpacing(),this.updateSpeed(),this.setTargetVector(new s.Vector2(1,0))}return o(e,[{key:"updateSpeed",value:function(){this.speed=2*Math.pow(this.body[0].scaleX*this.body[0].scaleY,1/3)}},{key:"updateBodySpacing",value:function(){this.bodySpacing=2*this.radius*this.bodySpacingRate*Math.sqrt(this.body[0].scaleX*this.body[0].scaleY)}},{key:"setTargetSpeeding",value:function(e){this.targetSpeedRate=e?this.speedingSpeedRate:this.normalSpeedRate}},{key:"setTargetVector",value:function(e){this.targetVector=e}},{key:"addScore",value:function(e){this.score+=e,this.script.updateScale(),this.updateBodySpacing(),this.updateSpeed();for(var t=Math.ceil(this.bodyLength);t>this.body.length;)this.script.addBody()}},{key:"pullFood",value:function(e){var t=a.addScriptNode(this.foodParentNode,"Food",-100),n=this.body[this.body.length-1],o=s.randomInCircle2(n,2*(this.radius-t.radius));t.node.x=o.x,t.node.y=o.y,t.score=e}},{key:"pullScore",value:function(e){this.score-=e,this.script.updateScale(),this.updateBodySpacing(),this.updateSpeed(),this.pulledScore+=e*this.pullScoreRate,this.pulledScore>=this.pullScoreThreshold&&(this.pulledScore-=this.pullScoreThreshold,this.pullFood(this.pullScoreThreshold));for(var t=Math.ceil(this.bodyLength);t<this.body.length&&this.body.length>1;)this.script.removeBody()}},{key:"updateSnakeBody",value:function(){for(var e=0,t=1;t<this.body.length;++e,++t){var n=new s.Vector2(this.body[e].x-this.body[t].x,this.body[e].y-this.body[t].y),o=n.length-this.bodySpacing;t==this.body.length-1&&(o+=this.bodySpacing*(Math.ceil(this.bodyLength)-this.bodyLength)),n=n.mod,this.body[t].rotation=a.rotationFromVector(n),o<=0||(this.body[t].x+=n.x*o,this.body[t].y+=n.y*o)}}},{key:"destroySnake",value:function(){for(this.node.active=!1;this.score>=1;)this.pullScore(1);for(;this.body.length>1;)this.script.removeBody();this.node.destroy()}},{key:"update",value:function(e){var t;this.score<=this.minScore?t=this.normalSpeedRate:(t=this.targetSpeedRate)!=this.normalSpeedRate&&t==this.speedingSpeedRate&&this.pullScore(this.speedingScoreCost);for(var n=0;n<t;++n){this.targetRotation=a.rotationFromVector(this.targetVector),this.head.rotation=a.nextRotation(this.head.rotation,this.targetRotation,this.turningSpeed);var o=a.vectorFromRotation(this.head.rotation);this.body[0].x+=o.x*this.speed,this.body[0].y+=o.y*this.speed,this.updateSnakeBody()}}},{key:"onCollisionEnter",value:function(e,t){if(0!=e.node.active&&0!=this.node.active){if(e.node.groupIndex==r.Body){var n=!1;if(this.body.length>1)for(var o=1;o<this.body.length;++o)if(e.node==this.body[o]){n=!0;break}0==n&&this.destroySnake()}e.node.groupIndex==r.Food&&(this.addScore(e.score),e.node.destroy())}}},{key:"onCollisionExit",value:function(e,t){0!=e.node.active&&0!=this.node.active&&e.node.groupIndex==r.PlayGround&&this.destroySnake()}},{key:"node",get:function(){return this.script.node}},{key:"radius",get:function(){return this.script.radius},set:function(e){this.script.radius=e}},{key:"bodyParentNode",get:function(){return this.script.bodyParentNode}},{key:"foodParentNode",get:function(){return this.script.foodParentNode}},{key:"body",get:function(){return this.script.body}},{key:"head",get:function(){return this.script.head}},{key:"score",get:function(){return this.script.score},set:function(e){this.script.score=e}},{key:"pullScoreThreshold",get:function(){return 1.5*Math.pow(this.body[0].scaleX*this.body[0].scaleY,1)}},{key:"targetBodyLength",get:function(){return this.score/Math.pow(this.body[0].scaleX*this.body[0].scaleY,1.5)}}]),e}();(function(e){function t(e){i(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=n;n.mouseLocation=new s.Vector2(1,0);var a={event:cc.EventListener.MOUSE,onMouseDown:function(e){o.setTargetSpeeding(!0)},onMouseUp:function(e){o.setTargetSpeeding(!1)},onMouseMove:function(e){o.mouseLocation=e.getLocation()},onMouseScroll:function(e){}};return cc.eventManager.addListener(a,n.node),n}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(t,c),o(t,[{key:"update",value:function(e){var t=this.node.parent.convertToNodeSpaceAR(this.mouseLocation);this.setTargetVector(new s.Vector2(t).mod),c.prototype.update(e)}}])})();t.exports={GroupIndex:r},cc._RF.pop()},{o0:"o0",o0CC:"o0CC"}],o0:[function(e,t,n){"use strict";cc._RF.push(t,"895c0YF2R9OtLpbGDZeVBxq","o0");var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.exports={Timer:function(){function e(t){i(this,e),this.interval=1e3*t,this.nextTiming()}return o(e,[{key:"nextTiming",value:function(){this.date=new Date}},{key:"tryNextTiming",value:function(){return!!this.isDue&&(this.nextTiming(),!0)}},{key:"isDue",get:function(){return(new Date).getTime()-this.date.getTime()>=this.interval}}]),e}(),FixedTimer:function(){function e(t){i(this,e),this.fps=t,this.updateInterval=1e3/t,this.remainder=0,this.nextTiming()}return o(e,[{key:"nextTiming",value:function(){this.date=new Date}},{key:"fixedUpdateTimes",value:function(){var e=new Date,t=e.getTime()-this.date.getTime()+this.remainder;return this.date=e,this.remainder=t%this.updateInterval,parseInt(t/this.updateInterval)}}]),e}(),FixedTimerDT:function(){function e(t){i(this,e),this.fps=t,this.updateInterval=1e3/t,this.remainder=0}return o(e,[{key:"fixedUpdateTimes",value:function(e){var t=1e3*e+this.remainder;return this.remainder=t%this.updateInterval,parseInt(t/this.updateInterval)}}]),e}(),Vector2:function(){function e(){switch(i(this,e),arguments.length){default:case 1:this.x=arguments[0].x,this.y=arguments[0].y;break;case 2:this.x=arguments[0],this.y=arguments[1]}}return o(e,[{key:"radian",value:function(e){return 2*Math.asin(Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))/2)}},{key:"angle",value:function(e){return this.radian(e)/Math.PI*180}},{key:"rotate",value:function(e){var t=Math.cos(e),n=Math.sin(e);return new this.constructor(this.x*t+this.y*n,this.y*t-this.x*n)}},{key:"rotateAngle",value:function(e){return this.rotate(e/180*Math.PI)}},{key:"plus",value:function(e){return new this.constructor(this.x+e.x,this.y+e.y)}},{key:"minus",value:function(e){return new this.constructor(this.x-e.x,this.y-e.y)}},{key:"multiply",value:function(e){return new this.constructor(this.x*e,this.y*e)}},{key:"toLength",value:function(e){var t=this.mod;return new this.constructor(t.x*e,t.y*e)}},{key:"length",get:function(){return 0==this.x&&0==this.y?0:Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"mod",get:function(){var e=this.length;return new this.constructor(this.x/e,this.y/e)}}]),e}(),Line2:function(){function e(){switch(i(this,e),arguments.length){default:case 1:this.a=arguments[0].a,this.b=arguments[0].b;break;case 2:this.a=arguments[0],this.b=arguments[1];break;case 4:this.a=new t.exports.Vector2(arguments[0],arguments[1]),this.b=new t.exports.Vector2(arguments[2],arguments[3])}}return o(e,[{key:"vertex",value:function(e){switch(e){default:case 0:return this.a;case 1:return this.b}}},{key:"vector",get:function(){return this.b.minus(this.a)}},{key:"length",get:function(){return this.vector.length}}]),e}(),Rect:function(){function e(){switch(i(this,e),arguments.length){default:case 1:this.position=arguments[0].position,this.size=arguments[0].size;break;case 2:this.position=arguments[0],this.size=arguments[1];break;case 4:this.position=new t.exports.Vector2(arguments[0],arguments[1]),this.size=new t.exports.Vector2(arguments[2],arguments[3])}}return o(e,[{key:"vertex",value:function(e){switch(e){default:case 0:return this.position;case 1:return new t.exports.Vector2(this.position.x,this.position.y+this.size.y);case 2:return this.position.plus(this.size);case 3:return new t.exports.Vector2(this.position.x+this.size.x,this.position.y)}}},{key:"edge",value:function(e){switch(e){default:case 0:return new t.exports.Line2(this.vertex(0),this.vertex(1));case 1:return new t.exports.Line2(this.vertex(1),this.vertex(2));case 2:return new t.exports.Line2(this.vertex(2),this.vertex(3));case 3:return new t.exports.Line2(this.vertex(3),this.vertex(0))}}},{key:"vertexs",get:function(){for(var e=[],t=0;t<4;++t)e.push(this.vertex(t));return e}},{key:"edges",get:function(){for(var e=[],t=0;t<4;++t)e.push(this.edge(t));return e}},{key:"pos",get:function(){return this.position},set:function(e){this.position=e}},{key:"x",get:function(){return this.position.x},set:function(e){this.position.x=e}},{key:"y",get:function(){return this.position.y},set:function(e){this.position.y=e}},{key:"width",get:function(){return this.size.x},set:function(e){this.size.x=e}},{key:"height",get:function(){return this.size.y},set:function(e){this.size.y=e}}]),e}(),Vector3:function(){function e(){switch(i(this,e),arguments.length){default:case 1:this.x=arguments[0].x,this.y=arguments[0].y,this.z=arguments[0].z;break;case 3:this.x=arguments[0],this.y=arguments[1],this.z=arguments[2]}}return o(e,[{key:"plus",value:function(e){return new this.constructor(this.x+e.x,this.y+e.y,this.z+e.z)}},{key:"minus",value:function(e){return new this.constructor(this.x-e.x,this.y-e.y,this.z-e.z)}},{key:"multiply",value:function(e){return new this.constructor(this.x*e,this.y*e,this.z*e)}},{key:"toLength",value:function(e){var t=this.mod;return new this.constructor(t.x*e,t.y*e,t.z*e)}},{key:"length",get:function(){return 0==this.x&&0==this.y&&0==this.z?0:Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"mod",get:function(){var e=this.length;return new this.constructor(this.x/e,this.y/e,this.z/e)}}]),e}(),isSameSign:function(e,t){return e>=0&&t>=0||e<=0&&t<=0},distance2:function(e,n){var o=Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2));switch(arguments.length){default:case 2:return o;case 3:var i=arguments[2];return t.exports.isSameSign(n.x-e.x,i.x)&&t.exports.isSameSign(n.y-e.y,i.y)?o:-o}},maxLengthLine2:function(e){if(0==e.length)return null;if(1==e.length)return new t.exports.Line2(e[0],e[0]);for(var n=null,o=-1,i=0;i<e.length-1;++i)for(var s=i+1;s<e.length;++s){var a=new t.exports.Line2(e[i],e[s]),r=a.length;o<r&&(o=r,n=a)}return n},randomInCircle2:function(){var e,n;switch(arguments.length){default:case 1:e=new t.exports.Vector2(0,0),n=arguments[0];break;case 2:e=arguments[0],n=arguments[1]}return new t.exports.Vector2(1,0).rotate(Math.random()*Math.PI*2).toLength(Math.sqrt(Math.random()*Math.pow(n/2,2))).plus(e)},intersectionLineLine2:function(){var e,n,o,i;switch(arguments.length){default:case 4:e=arguments[0],n=arguments[1],o=arguments[2],i=arguments[3];break;case 2:e=arguments[0].a,n=arguments[0].b,o=arguments[1].a,i=arguments[1].b}var s=(e.x-n.x)*(o.y-i.y)-(e.y-n.y)*(o.x-i.x);if(0==s)return null;var a=((e.x-o.x)*(o.y-i.y)-(e.y-o.y)*(o.x-i.x))/s;e.x,n.x,e.y,o.y,e.y,n.y,e.x,o.x;return new t.exports.Vector2(e.x+a*(n.x-e.x),e.y+a*(n.y-e.y))},arrangeInLine1:function(e,t,n){for(var o=[],i=Math.ceil(e/n)*n;i<=t;i+=n)o.push(i);return o},arrangeInLine2:function(){var e,n,o,i,s,a;switch(arguments.length){default:case 4:e=arguments[0],n=arguments[1],o=arguments[2],i=arguments[3];break;case 3:if(null==arguments[0])return[];e=arguments[0].a,n=arguments[0].b,o=arguments[1],i=arguments[2]}t.exports.isSameSign(n.x-e.x,i.x)&&t.exports.isSameSign(n.y-e.y,i.y)?(s=e,a=n):(s=n,a=e),s=t.exports.isSameSign(s.x-o.x,i.x)&&t.exports.isSameSign(s.y-o.y,i.y)?t.exports.distance2(o,s):-t.exports.distance2(o,s),a=t.exports.isSameSign(a.x-o.x,i.x)&&t.exports.isSameSign(a.y-o.y,i.y)?t.exports.distance2(o,a):-t.exports.distance2(o,a);for(var r=[],c=i.mod,h=t.exports.arrangeInLine1(s,a,i.length),d=0;d<h.length;++d)r.push(o.plus(c.multiply(h[d])));return r},pointOnLineSegment:function(e,n){var o=e.length/1e6,i=e.a.minus(n),s=e.b.minus(n);return!(t.exports.isSameSign(i.x,s.x)&&t.exports.isSameSign(i.y,s.y)&&i.length>=o&&s.length>=o)},lineSegmentInRect:function(e,n){for(var o=e.edges,i=[],s=0;s<o.length;++s){var a=t.exports.intersectionLineLine2(o[s],n);null!=a&&t.exports.pointOnLineSegment(o[s],a)&&i.push(a)}return t.exports.maxLengthLine2(i)},arrangeInRect2:function(e,n,o,i){for(var s=[],a=0;a<4;++a)s.push(t.exports.intersectionLineLine2(n,n.plus(i),e.vertex(a),e.vertex(a).plus(o)));s=t.exports.distance2(s[0],s[2])>t.exports.distance2(s[1],s[3])?[s[0],s[2],s[1],s[3]]:[s[1],s[3],s[0],s[2]];var r=[],c=t.exports.arrangeInLine2(s[0],s[1],n,i);for(a=0;a<c.length;++a){var h=t.exports.lineSegmentInRect(e,new t.exports.Line2(c[a],c[a].plus(o))),d=t.exports.arrangeInLine2(h,c[a],o);r=r.concat(d)}return r}},cc._RF.pop()},{}]},{},["Food","GameScene","LocalGameScene","RemoteGameScene","ServerGameScene","Menu","PlayGround","PlayGround2","LocalControl","RemoteControl","SkinSampleControl","SnakeAIInput","SnakeAccelerometerInput","SnakeDirectionInput","SnakePositionInput","SnakeSteeringControl","SnakeJoystickInput","SnakeKeyboardArrowkeyInput","SnakeKeyboardSteeringInput","SnakeMouseInput","SnakeTouchInput","RemoteSnake","SkinSampleSnake","Snake","anyADs","o0","o0CC","o0CCButton","o0CCButtonNoImage","o0CCEditBox","o0CCLabel","o0Game"]);