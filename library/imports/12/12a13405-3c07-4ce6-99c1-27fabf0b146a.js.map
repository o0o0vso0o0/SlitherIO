{"version":3,"sources":["..\\..\\..\\..\\assets\\Script/assets\\Script\\Food.js"],"names":["o0","require","o0CC","o0Game","cc","Class","extends","CircleCollider","properties","score","get","_score","set","value","scale","Math","sqrt","node","scaleX","scaleY","onLoad","radius","setGroup","GroupIndex","Food","particleSystem","addComponent","ParticleSystem","loader","loadRes","SpriteFrame","err","spriteFrame","playOnLoad","custom","duration","emissionRate","life","lifeVar","totalParticles","color","randomBrightColor","startColor","Color","getR","getG","getB","endColor","ColorVar","startColorVar","endColorVar","angle","angleVar","startSize","startSizeVar","endSize","endSizeVar","startSpin","startSpinVar","endSpin","endSpinVar","sourcePos","v2","posVar","positionType","PositionType","GROUPED","emitterMode","EmitterMode","RADIUS","startRadius","startRadiusVar","endRadius","endRadiusVar","rotatePerS","rotatePerSVar","SrcBlendFactor","macro","BlendFactor","ONE","DstBlendFactor","ONE_MINUS_SRC_ALPHA","scheduleOnce","destroy"],"mappings":"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","file":"Food.js","sourceRoot":"..\\..\\..\\..\\assets\\Script","sourcesContent":["var o0 = require('o0');\r\nvar o0CC = require('o0CC');\r\nvar o0Game = require('o0Game');\r\n\r\ncc.Class({\r\n    extends: cc.CircleCollider,\r\n\r\n    properties: {\r\n        score: {\r\n            get: function (){\r\n                return this._score;\r\n            },\r\n            set: function (value) {\r\n                this._score = value;\r\n                var scale = Math.sqrt(value);\r\n                //var scale = 4;\r\n                this.node.scaleX = scale;\r\n                this.node.scaleY = scale;\r\n\r\n                //cc.log(scale);\r\n            }\r\n        },\r\n        //startDestory:false,\r\n    },\r\n\r\n    \r\n    onLoad: function () {\r\n        this.radius = 15;//圆碰撞体的局部变量\r\n        //this.tag = o0Game.CollisionTag.Food;\r\n        o0CC.setGroup(this,o0Game.GroupIndex.Food);\r\n/*\r\n        var graphics = this.node.addComponent(cc.Graphics);\r\n        graphics.clear();\r\n        graphics.circle(0, 0, this.radius);\r\n        graphics.fillColor = cc.Color.GREEN;\r\n        graphics.fill();/** */\r\n        \r\n\r\n        var particleSystem = this.node.addComponent(cc.ParticleSystem);\r\n        /*\r\n        cc.loader.loadRes(\"atom\", function (err, plist) {\r\n            particleSystem.file = plist;\r\n        });/** */\r\n        cc.loader.loadRes(\"food16-16\", cc.SpriteFrame, function (err, spriteFrame) {\r\n            particleSystem.spriteFrame = spriteFrame;\r\n        });\r\n        /*cc.loader.loadRes(\"food64-64\", function (err, file) {\r\n            particleSystem.spriteFrame = new cc.SpriteFrame(file, new cc.Rect(0, 0, 64, 64));\r\n        });/** */\r\n        particleSystem.playOnLoad = true;\r\n        particleSystem.custom = true;\r\n        particleSystem.duration = -1;\r\n        particleSystem.emissionRate  = 1000;\r\n        particleSystem.life = 10;\r\n        particleSystem.lifeVar = 0;\r\n        particleSystem.totalParticles = 1;\r\n        var color = o0CC.randomBrightColor();\r\n        particleSystem.startColor = new cc.Color(color.getR(), color.getG(), color.getB(), 1000);\r\n        particleSystem.endColor = new cc.Color(color.getR(), color.getG(), color.getB(), 0);\r\n        var ColorVar = new cc.Color(0, 0, 0, 0);\r\n        particleSystem.startColorVar = ColorVar;\r\n        particleSystem.endColorVar = ColorVar;/*** *//*\r\n        particleSystem.startColor = new cc.Color(0, 0, 0, 1);\r\n        particleSystem.endColor = new cc.Color(0, 0, 0, 1);\r\n        particleSystem.startColorVar = new cc.Color(1, 1, 1, 0);\r\n        particleSystem.endColorVar = new cc.Color(1, 1, 1, 0);/*** */\r\n        particleSystem.angle = 0;\r\n        particleSystem.angleVar = 0;\r\n        particleSystem.startSize = 30;\r\n        particleSystem.startSizeVar = 0;\r\n        particleSystem.endSize = 30;\r\n        particleSystem.endSizeVar = 0;\r\n        particleSystem.startSpin = 0;\r\n        particleSystem.startSpinVar = 0;\r\n        particleSystem.endSpin = 0;\r\n        particleSystem.endSpinVar = 0;\r\n        particleSystem.sourcePos = new cc.v2(0,0);\r\n        particleSystem.posVar = new cc.v2(0,0);\r\n        particleSystem.positionType = cc.ParticleSystem.PositionType.GROUPED;\r\n        particleSystem.emitterMode = cc.ParticleSystem.EmitterMode.RADIUS;\r\n        particleSystem.startRadius = 0;\r\n        particleSystem.startRadiusVar = 15;\r\n        particleSystem.endRadius = 0;\r\n        particleSystem.endRadiusVar = 15;\r\n        particleSystem.rotatePerS = 0;\r\n        particleSystem.rotatePerSVar = 300;\r\n        particleSystem.SrcBlendFactor = cc.macro.BlendFactor.ONE;\r\n        particleSystem.DstBlendFactor = cc.macro.BlendFactor.ONE_MINUS_SRC_ALPHA;/** */\r\n        /*particleSystem.SrcBlendFactor = cc.macro.BlendFactor.SRC_ALPHA;\r\n        particleSystem.DstBlendFactor = cc.macro.BlendFactor.ONE_MINUS_SRC_ALPHA;\r\n        //particleSystem.DstBlendFactor = cc.macro.BlendFactor.ONE;/** */\r\n         \r\n        \r\n\r\n\r\n        this.scheduleOnce(() => {\r\n            this.node.destroy();\r\n            //this.startDestory = true;\r\n            //this.node.active = false;            \r\n        }, 10);\r\n    },  \r\n\r\n\r\n/*\r\n    update: function (dt) {\r\n        if(this.node == null || this.node.isValid == false){\r\n            cc.log(\"Memory leak: Food\");\r\n            return;\r\n        }\r\n\r\n        if(this.startDestory = true){\r\n            if(this.node.opacity == 0){\r\n                this.node.destroy();\r\n            }\r\n            this.node.opacity -= 1;\r\n        }\r\n    }/** */\r\n});\r\n"]}