{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\Script\\SnakeInput/assets\\Script\\SnakeInput\\SnakeAccelerometerInput.js"],"names":["o0","require","o0CC","o0Game","cc","Class","extends","properties","onDeviceMotionEvent","event","setTargetVector","Vector2","acc","mod","onLoad","_super","self","listener","EventListener","TOUCH_ONE_BY_ONE","onTouchBegan","touch","setTargetSpeeding","onTouchMoved","onTouchEnded","eventManager","addListener","node","systemEvent","setAccelerometerEnabled","on","SystemEvent","EventType","DEVICEMOTION","start","dt","update","onDestroy","off"],"mappings":";;;;;;AAAA,IAAIA,KAAKC,QAAQ,IAAR,CAAT;AACA,IAAIC,OAAOD,QAAQ,MAAR,CAAX;AACA,IAAIE,SAASF,QAAQ,QAAR,CAAb;;AAEAG,GAAGC,KAAH,CAAS;AACLC,aAASL,QAAQ,qBAAR,CADJ;AAELM,gBAAY,EAFP;;AAKLC,uBALK,+BAKgBC,KALhB,EAKuB;AACxB,aAAKC,eAAL,CAAqB,IAAIV,GAAGW,OAAP,CAAeF,MAAMG,GAArB,EAA0BC,GAA/C;AACA;AACH,KARI;;;AAUL;AACAC,YAAQ,kBAAY;AAChB,aAAKC,MAAL;AACA,YAAIC,OAAO,IAAX;;AAEA,YAAIC,WAAW;AACXR,mBAAOL,GAAGc,aAAH,CAAiBC,gBADb;AAEXC,0BAAc,sBAAUC,KAAV,EAAiBZ,KAAjB,EAAwB;AAClCO,qBAAKM,iBAAL,CAAuB,IAAvB;AACA,uBAAO,IAAP;AACH,aALU;AAMXC,0BAAc,sBAAUF,KAAV,EAAiBZ,KAAjB,EAAwB;AAClC,uBAAO,IAAP;AACH,aARU;AASXe,0BAAc,sBAAUH,KAAV,EAAiBZ,KAAjB,EAAwB;AAClCO,qBAAKM,iBAAL,CAAuB,KAAvB;AACA,uBAAO,IAAP;AACH;AAZU,SAAf;AAcAlB,WAAGqB,YAAH,CAAgBC,WAAhB,CAA4BT,QAA5B,EAAsC,KAAKU,IAA3C;;AAEAvB,WAAGwB,WAAH,CAAeC,uBAAf,CAAuC,IAAvC;AACAzB,WAAGwB,WAAH,CAAeE,EAAf,CAAkB1B,GAAG2B,WAAH,CAAeC,SAAf,CAAyBC,YAA3C,EAAyD,KAAKzB,mBAA9D,EAAmF,IAAnF;AACH,KAjCI;AAkCL0B,WAAO,eAAUC,EAAV,EAAc,CACpB,CAnCI;AAoCLC,YAAQ,gBAAUD,EAAV,EAAc,CACrB,CArCI,EAqCH;;;;;AAKFE,aA1CK,uBA0CQ;AACTjC,WAAGwB,WAAH,CAAeU,GAAf,CAAmBlC,GAAG2B,WAAH,CAAeC,SAAf,CAAyBC,YAA5C,EAA0D,KAAKzB,mBAA/D,EAAoF,IAApF;AACH;AA5CI,CAAT","file":"SnakeAccelerometerInput.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\Script\\SnakeInput","sourcesContent":["var o0 = require('o0');\r\nvar o0CC = require('o0CC');\r\nvar o0Game = require('o0Game');\r\n\r\ncc.Class({\r\n    extends: require('SnakeDirectionInput'),\r\n    properties: {\r\n    },\r\n    \r\n    onDeviceMotionEvent (event) {\r\n        this.setTargetVector(new o0.Vector2(event.acc).mod);\r\n        //cc.log(event.acc.x + \"   \" + event.acc.y);\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        this._super();\r\n        var self = this;\r\n        \r\n        var listener = {\r\n            event: cc.EventListener.TOUCH_ONE_BY_ONE,\r\n            onTouchBegan: function (touch, event) {\r\n                self.setTargetSpeeding(true);\r\n                return true;\r\n            },\r\n            onTouchMoved: function (touch, event) {\r\n                return true;\r\n            },\r\n            onTouchEnded: function (touch, event) {\r\n                self.setTargetSpeeding(false);\r\n                return true;\r\n            },\r\n        }\r\n        cc.eventManager.addListener(listener, this.node);\r\n\r\n        cc.systemEvent.setAccelerometerEnabled(true);\r\n        cc.systemEvent.on(cc.SystemEvent.EventType.DEVICEMOTION, this.onDeviceMotionEvent, this);\r\n    },\r\n    start: function (dt) {\r\n    },\r\n    update: function (dt) {\r\n    },/*\r\n    test:function(){\r\n        cc.log('mouse snake');\r\n    },/** */\r\n\r\n    onDestroy () {\r\n        cc.systemEvent.off(cc.SystemEvent.EventType.DEVICEMOTION, this.onDeviceMotionEvent, this);\r\n    },\r\n});"]}